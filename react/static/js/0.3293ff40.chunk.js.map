{"version":3,"sources":["components/Tab.jsx","view/Community/CommunityList.jsx","view/Community/IndexRecommend.jsx"],"names":["Tabs","_this","Object","D_GIT_FortuneCommunity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_GIT_FortuneCommunity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_GIT_FortuneCommunity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","setLinkBarPos","type","flagBarPos","tabArr","props","tabs","length","map","item","index","parseFloat","setState","shouldComponentUpdate","PureRenderMixin","bind","D_GIT_FortuneCommunity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","state","curIndex","handleTab","active","num","callback","_this2","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","key","onClick","style","left","Component","defaultProps","CommunityList","_this$props","list","tab","src","alt","href","dangerouslySetInnerHTML","__html","CommunityRecommend","toOtherPage","path","history","push","handelSearch","text","getTabIndex","location","setTitle","getGeoInfoAll","payload","geo","selectcity","selectCity","historycity","historyCity","guoqitime","selectCityExpireTime","Date","getTime","_components_EmInput__WEBPACK_IMPORTED_MODULE_9__","_components_Tab__WEBPACK_IMPORTED_MODULE_10__","_CommunityList__WEBPACK_IMPORTED_MODULE_8__","withRouter","connect","dispatch"],"mappings":"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","file":"static/js/0.3293ff40.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport PureRenderMixin from 'react-addons-pure-render-mixin'\r\nimport PropTypes from 'prop-types'\r\nexport default class Tabs extends Component {\r\n  constructor () {\r\n    super()\r\n    this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this)\r\n    this.state = {\r\n      curIndex:0,\r\n      flagBarPos:0\r\n    }\r\n    this.handleTab = this.handleTab.bind(this)\r\n  }\r\n  static propTypes = {\r\n    tabs:PropTypes.array,\r\n    active:PropTypes.number,\r\n    callback: PropTypes.func\r\n  }\r\n  setLinkBarPos = type => {\r\n    let flagBarPos,tabArr = this.props.tabs;\r\n    tabArr.length && tabArr.map((item,index)=>{\r\n      if(type==index){\r\n        flagBarPos = parseFloat( (100/tabArr.length) * index + (50/tabArr.length)) + '%'\r\n      }\r\n    })\r\n    this.setState({flagBarPos})\r\n  }\r\n  static defaultProps = {\r\n    tabs:['选项卡一','选项卡二'],\r\n    active:0\r\n  }\r\n  componentWillMount(){\r\n    this.setLinkBarPos(this.props.active);\r\n  }\r\n  handleTab(num){\r\n    if(num!==this.state.curIndex){\r\n      this.setState({\r\n        curIndex:num\r\n      })\r\n      this.setLinkBarPos(num);\r\n      this.props.callback && this.props.callback(num)\r\n    }\r\n  }\r\n  render () {\r\n    let { tabs } = this.props\r\n    let { curIndex } = this.state\r\n    return (\r\n      <div className=\"tablink-box\">\r\n        <ul className=\"tab-list\">\r\n          {\r\n            tabs.length && tabs.map((item, index) => {\r\n              return (\r\n                <li key={index} onClick={()=>this.handleTab(index)} className={curIndex==index?'tab-link active':'tab-link' }>{item}</li>\r\n              )\r\n            })\r\n          }\r\n        </ul>\r\n        <i className=\"nav-linkbar\" style={{left: this.state.flagBarPos}}></i>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PureRenderMixin from 'react-addons-pure-render-mixin'\r\n// import PropTypes from 'prop-types';\r\nexport default class CommunityList extends Component {\r\n  constructor () {\r\n    super()\r\n    this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\r\n    this.state = {\r\n\r\n    }\r\n  }\r\n  render () {\r\n    let {list,tab} = this.props;\r\n    return (\r\n      <div>\r\n        {\r\n          list.length>0?\r\n          <ul className=\"community-list\">\r\n            <li>\r\n              <img className=\"user-avatar\" src=\"http://172.30.64.72:8090/secure/useravatar?ownerId=zuobaiquan&avatarId=11304\" alt=\"\" />\r\n              <div className=\"list-mid\">\r\n                <div className=\"mid-p1\">\r\n                  <span>上海XXX营业部</span>\r\n                  <span>{'<100m'}</span>\r\n                </div>\r\n                <div className=\"mid-p2\">社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介</div>\r\n              </div>\r\n              <a className=\"tofollow\" href=\"javascript:;\">关注</a>\r\n            </li>\r\n             <li>\r\n              <img className=\"user-avatar\" src=\"http://172.30.64.72:8090/secure/useravatar?ownerId=zuobaiquan&avatarId=11304\" alt=\"\" />\r\n              <div className=\"list-mid\">\r\n                <div className=\"mid-p1\">上海XXX营业部</div>\r\n                <div className=\"mid-p2\">社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介社区简介</div>\r\n              </div>\r\n              <a className=\"tofollow followed\" href=\"javascript:;\">已关注</a>\r\n            </li>\r\n             <li>\r\n              <img className=\"user-avatar\" src=\"http://172.30.64.72:8090/secure/useravatar?ownerId=zuobaiquan&avatarId=11304\" alt=\"\" />\r\n              <div className=\"list-mid\">\r\n                <div className=\"mid-p1\">上海XXX营业部</div>\r\n                <div className=\"mid-p2\">社区简介社区</div>\r\n              </div>\r\n              <a className=\"tofollow\" href=\"javascript:;\">关注</a>\r\n            </li>\r\n          </ul>\r\n          :\r\n          <div className=\"empty-data\">\r\n            <i className=\"empty-location\"></i>\r\n            <div className=\"empty-content\"  dangerouslySetInnerHTML={\r\n              {\r\n                __html: tab == 0  ? \"暂无社区 <br />快去发现更多社区吧 ！\":\r\n                        (tab == 1?`未获取到您的地理位置信息<br />开通定位功能,可获取更多周边社区活动信息<br /><a href=\"#\" class=\"see-myactivity\">去设置</a>`\r\n                                :\"暂时还没有社区哟\" )\r\n              }\r\n            }\r\n            ></div>\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PureRenderMixin from 'react-addons-pure-render-mixin'\r\nimport CommunityList from './CommunityList'\r\nimport EmInput from '@/components/EmInput'\r\nimport Tab from '@/components/Tab'\r\nimport { setTitle } from 'emf-native/lib/native/native.page'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { geo } from '../../store/actions'\r\nimport { connect } from 'react-redux'\r\nclass CommunityRecommend extends Component {\r\n  constructor () {\r\n    super()\r\n    this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\r\n    this.state = {\r\n      active:0,\r\n      location:'全国'\r\n    }\r\n    this.handelSearch = this.handelSearch.bind(this)\r\n    this.getTabIndex = this.getTabIndex.bind(this)\r\n    this.toOtherPage = this.toOtherPage.bind(this)\r\n  }\r\n  //跳转到其他页面\r\n  toOtherPage = (path) => {\r\n    this.props.history.push(path)\r\n  }\r\n  handelSearch = (text) => {\r\n\r\n  }\r\n  getTabIndex = (index) => {\r\n    if(index === this.state.active){\r\n      return ;\r\n    }\r\n    this.setState({\r\n      active:index\r\n    })\r\n  }\r\n  componentWillMount(){\r\n    setTitle('推荐社区')\r\n    this.props.getGeoInfoAll().payload\r\n    if(this.props.geo){\r\n      var selectcity = this.props.geo.selectCity\r\n      var historycity = this.props.geo.historyCity\r\n      var guoqitime = this.props.geo.selectCityExpireTime\r\n      if (selectcity && new Date().getTime() < guoqitime) {\r\n        this.setState({\r\n          location: selectcity\r\n        })\r\n        return\r\n      }\r\n      if (historycity) {\r\n        this.setState({\r\n          location: historycity\r\n        })\r\n      }\r\n    }\r\n\r\n  }\r\n  render() {\r\n    let { active } = this.state\r\n    let list = []\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <div className=\"search-input\">\r\n          <span className=\"location-box\">{this.state.location}</span>\r\n          <div className=\"searchinput-box\">\r\n            <EmInput onClick={()=>{this.toOtherPage('/search')}}/>\r\n          </div>\r\n        </div>\r\n        <Tab callback={ this.getTabIndex } active={active} tabs={['热门的','附近的','所有社区']} />\r\n        <CommunityList list={ list } tab={active} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  geo: state.geo\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n  getGeoInfoAll: () => dispatch(geo.getGeoInfoAll())\r\n})\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CommunityRecommend))"],"sourceRoot":""}