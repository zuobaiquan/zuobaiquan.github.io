{"version":3,"sources":["view/SelectCity/SideLetter.jsx","assets/js/cityletter.js","view/SelectCity/Index.jsx"],"names":["SideLetter","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","scrollIntoView","name","setState","showLetter","setTimeout","bind","assertThisInitialized","props","callback","shouldComponentUpdate","PureRenderMixin","state","_this2","letterArr","i","push","String","fromCharCode","react_default","a","createElement","className","map","item","index","onClick","key","Component","cityletter","citys","SelectCityComponent","showCitybyLetter","scrollView","obj","document","getElementById","window","scrollTo","offsetTop","chooseCity","cityname","setGeoObject","selectCity","guoqiselecttime","Date","getTime","selectCityExpireTime","history","geoCity","setTitle","geoInfo","getGeoInfoAll","payload","selectcity","historycity","historyCity","guoqitime","id","length","cityindex","SideLetter_SideLetter","connect","geo","dispatch","setSelectCity"],"mappings":"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","file":"static/js/5.b842cc5e.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport PureRenderMixin from 'react-addons-pure-render-mixin'\r\n\r\n// import PropTypes from 'prop-types';\r\nexport default class SideLetter extends Component {\r\n  constructor () {\r\n    super()\r\n    this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\r\n    this.state = {\r\n      showLetter : ''\r\n    }\r\n  }\r\n  static propTypes = {\r\n    callback: PropTypes.func\r\n  }\r\n  scrollIntoView = (name) => {\r\n    this.setState({\r\n      showLetter:name\r\n    })\r\n    setTimeout(function () {\r\n      this.setState({\r\n        showLetter:''\r\n      })\r\n    }.bind(this), 500)\r\n    this.props.callback && this.props.callback(name)\r\n  }\r\n  render () {\r\n    let letterArr = []\r\n    for(let i=0;i<26;i++){\r\n      letterArr.push(String.fromCharCode(65+i))\r\n    }\r\n    return (\r\n      <div>\r\n        <ul className=\"side-letter\">\r\n          {\r\n            letterArr.map((item,index) =>{\r\n              return (\r\n                <li onClick={this.scrollIntoView.bind(this,item)} className=\"letter-alphabet\" key={index}>{item}</li>\r\n              )\r\n            })\r\n          }\r\n        </ul>\r\n        <span className={ this.state.showLetter? 'letter-tips tipAppear':'letter-tips' }>{ this.state.showLetter }</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","export default [{\r\n    name: \"hot\",\r\n    citys: [\"北京\", \"上海\", \"广州\", \"深圳\", \"杭州\", \"南京\", \"成都\", \"重庆\", \"武汉\", \"长沙\", \"昆明\"]\r\n}, {\r\n    name: \"A\",\r\n    citys: [\"阿坝\", \"阿拉善\", \"阿里\", \"安康\", \"安庆\", \"鞍山\", \"安顺\", \"安阳\", \"澳门\"]\r\n}, {\r\n    name: \"B\",\r\n    citys: [\"北京\", \"白银\", \"保定\", \"宝鸡\", \"保山\", \"包头\", \"巴中\", \"北海\", \"蚌埠\", \"本溪\", \"毕节\", \"滨州\", \"百色\", \"亳州\"]\r\n}, {\r\n    name: \"C\",\r\n    citys: [\"重庆\", \"成都\", \"长沙\", \"长春\", \"沧州\", \"常德\", \"昌都\", \"长治\", \"常州\", \"巢湖\", \"潮州\", \"承德\", \"郴州\", \"赤峰\", \"池州\", \"崇左\", \"楚雄\", \"滁州\", \"朝阳\"]\r\n}, {\r\n    name: \"D\",\r\n    citys: [\"大连\", \"东莞\", \"大理\", \"丹东\", \"大庆\", \"大同\", \"大兴安岭\", \"德宏\", \"德阳\", \"德州\", \"定西\", \"迪庆\", \"东营\"]\r\n}, {\r\n    name: \"E\",\r\n    citys: [\"鄂尔多斯\", \"恩施\", \"鄂州\"]\r\n}, {\r\n    name: \"F\",\r\n    citys: [\"福州\", \"防城港\", \"佛山\", \"抚顺\", \"抚州\", \"阜新\", \"阜阳\"]\r\n}, {\r\n    name: \"G\",\r\n    citys: [\"广州\", \"桂林\", \"贵阳\", \"甘南\", \"赣州\", \"甘孜\", \"广安\", \"广元\", \"贵港\", \"果洛\"]\r\n}, {\r\n    name: \"H\",\r\n    citys: [\"杭州\", \"哈尔滨\", \"合肥\", \"海口\", \"呼和浩特\", \"海北\", \"海东\", \"海南\", \"海西\", \"邯郸\", \"汉中\", \"鹤壁\", \"河池\", \"鹤岗\", \"黑河\", \"衡水\", \"衡阳\", \"河源\", \"贺州\", \"红河\", \"淮安\", \"淮北\", \"怀化\", \"淮南\", \"黄冈\", \"黄南\", \"黄山\", \"黄石\", \"惠州\", \"葫芦岛\", \"呼伦贝尔\", \"湖州\", \"菏泽\"]\r\n}, {\r\n    name: \"J\",\r\n    citys: [\"济南\", \"佳木斯\", \"吉安\", \"江门\", \"焦作\", \"嘉兴\", \"嘉峪关\", \"揭阳\", \"吉林\", \"金昌\", \"晋城\", \"景德镇\", \"荆门\", \"荆州\", \"金华\", \"济宁\", \"晋中\", \"锦州\", \"九江\", \"酒泉\"]\r\n}, {\r\n    name: \"K\",\r\n    citys: [\"昆明\", \"开封\"]\r\n}, {\r\n    name: \"L\",\r\n    citys: [\"兰州\", \"拉萨\", \"来宾\", \"莱芜\", \"廊坊\", \"乐山\", \"凉山\", \"连云港\", \"聊城\", \"辽阳\", \"辽源\", \"丽江\", \"临沧\", \"临汾\", \"临夏\", \"临沂\", \"林芝\", \"丽水\", \"六安\", \"六盘水\", \"柳州\", \"陇南\", \"龙岩\", \"娄底\", \"漯河\", \"洛阳\", \"泸州\", \"吕梁\"]\r\n}, {\r\n    name: \"M\",\r\n    citys: [\"马鞍山\", \"茂名\", \"眉山\", \"梅州\", \"绵阳\", \"牡丹江\"]\r\n}, {\r\n    name: \"N\",\r\n    citys: [\"南京\", \"南昌\", \"南宁\", \"宁波\", \"南充\", \"南平\", \"南通\", \"南阳\", \"那曲\", \"内江\", \"宁德\", \"怒江\"]\r\n}, {\r\n    name: \"P\",\r\n    citys: [\"盘锦\", \"攀枝花\", \"平顶山\", \"平凉\", \"萍乡\", \"莆田\", \"濮阳\"]\r\n}, {\r\n    name: \"Q\",\r\n    citys: [\"青岛\", \"黔东南\", \"黔南\", \"黔西南\", \"庆阳\", \"清远\", \"秦皇岛\", \"钦州\", \"齐齐哈尔\", \"泉州\", \"曲靖\", \"衢州\"]\r\n}, {\r\n    name: \"R\",\r\n    citys: [\"日喀则\", \"日照\"]\r\n}, {\r\n    name: \"S\",\r\n    citys: [\"上海\", \"深圳\", \"苏州\", \"沈阳\", \"石家庄\", \"三门峡\", \"三明\", \"三亚\", \"商洛\", \"商丘\", \"上饶\", \"山南\", \"汕头\", \"汕尾\", \"韶关\", \"绍兴\", \"邵阳\", \"十堰\", \"朔州\", \"四平\", \"绥化\", \"遂宁\", \"随州\", \"宿迁\", \"宿州\"]\r\n}, {\r\n    name: \"T\",\r\n    citys: [\"天津\", \"太原\", \"泰安\", \"泰州\", \"台州\", \"唐山\", \"天水\", \"铁岭\", \"铜川\", \"通化\", \"通辽\", \"铜陵\", \"铜仁\", \"台湾\"]\r\n}, {\r\n    name: \"W\",\r\n    citys: [\"武汉\", \"乌鲁木齐\", \"无锡\", \"威海\", \"潍坊\", \"文山\", \"温州\", \"乌海\", \"芜湖\", \"乌兰察布\", \"武威\", \"梧州\"]\r\n}, {\r\n    name: \"X\",\r\n    citys: [\"厦门\", \"西安\", \"西宁\", \"襄樊\", \"湘潭\", \"湘西\", \"咸宁\", \"咸阳\", \"孝感\", \"邢台\", \"新乡\", \"信阳\", \"新余\", \"忻州\", \"西双版纳\", \"宣城\", \"许昌\", \"徐州\", \"香港\", \"锡林郭勒\", \"兴安\"]\r\n}, {\r\n    name: \"Y\",\r\n    citys: [\"银川\", \"雅安\", \"延安\", \"延边\", \"盐城\", \"阳江\", \"阳泉\", \"扬州\", \"烟台\", \"宜宾\", \"宜昌\", \"宜春\", \"营口\", \"益阳\", \"永州\", \"岳阳\", \"榆林\", \"运城\", \"云浮\", \"玉树\", \"玉溪\", \"玉林\"]\r\n}, {\r\n    name: \"Z\",\r\n    citys: [\"杂多县\", \"赞皇县\", \"枣强县\", \"枣阳市\", \"枣庄\", \"泽库县\", \"增城市\", \"曾都区\", \"泽普县\", \"泽州县\", \"札达县\", \"扎赉特旗\", \"扎兰屯市\", \"扎鲁特旗\", \"扎囊县\", \"张北县\", \"张店区\", \"章贡区\", \"张家港\", \"张家界\", \"张家口\", \"漳平市\", \"漳浦县\", \"章丘市\", \"樟树市\", \"张湾区\", \"彰武县\", \"漳县\", \"张掖\", \"漳州\", \"长子县\", \"湛河区\", \"湛江\", \"站前区\", \"沾益县\", \"诏安县\", \"召陵区\", \"昭平县\", \"肇庆\", \"昭通\", \"赵县\", \"昭阳区\", \"招远市\", \"肇源县\", \"肇州县\", \"柞水县\", \"柘城县\", \"浙江\", \"镇安县\", \"振安区\", \"镇巴县\", \"正安县\", \"正定县\", \"正定新区\", \"正蓝旗\", \"正宁县\", \"蒸湘区\", \"正镶白旗\", \"正阳县\", \"郑州\", \"镇海区\", \"镇江\", \"浈江区\", \"镇康县\", \"镇赉县\", \"镇平县\", \"振兴区\", \"镇雄县\", \"镇原县\", \"志丹县\", \"治多县\", \"芝罘区\", \"枝江市\", \"芷江侗族自治县\", \"织金县\", \"中方县\", \"中江县\", \"钟楼区\", \"中牟县\", \"中宁县\", \"中山\", \"中山区\", \"钟山区\", \"钟山县\", \"中卫\", \"钟祥市\", \"中阳县\", \"中原区\", \"周村区\", \"周口\", \"周宁县\", \"舟曲县\", \"舟山\", \"周至县\", \"庄河市\", \"诸城市\", \"珠海\", \"珠晖区\", \"诸暨市\", \"驻马店\", \"准格尔旗\", \"涿鹿县\", \"卓尼\", \"涿州市\", \"卓资县\", \"珠山区\", \"竹山县\", \"竹溪县\", \"株洲\", \"株洲县\", \"淄博\", \"子长县\", \"淄川区\", \"自贡\", \"秭归县\", \"紫金县\", \"自流井区\", \"资溪县\", \"资兴市\", \"资阳\"]\r\n}]","import React, { Component, PropTypes } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PureRenderMixin from 'react-addons-pure-render-mixin'\r\nimport SideLetter from './SideLetter'\r\nimport showCitybyLetter from '@/assets/js/cityletter.js'\r\nimport { setTitle } from 'emf-native/lib/native/native.page'\r\n//import localStorage from '../../utils/extLocalStorage'\r\n//import { activity } from \"../../store/actions\"\r\nimport { geo } from '../../store/actions'\r\n\r\n// import PropTypes from 'prop-types';\r\nclass SelectCityComponent extends Component {\r\n  showCitybyLetter=showCitybyLetter;\r\n  constructor (props) {\r\n    super(props)\r\n    this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\r\n    this.state = {\r\n      geoCity:'定位失败'\r\n    }\r\n    this.scrollView= this.scrollView.bind(this)\r\n  }\r\n  scrollView = (name) =>{\r\n    let obj = document.getElementById(name);\r\n    obj && window.scrollTo(0,obj.offsetTop);\r\n  }\r\n  //点击选择城市\r\n  chooseCity = (cityname) => {\r\n    this.props.setGeoObject({'selectCity':cityname})\r\n    //设置选择城市过期时间24小时\r\n    var t = new Date()\r\n    var guoqiselecttime = t.getTime()+24*60*60*1000\r\n    this.props.setGeoObject({ 'selectCityExpireTime': guoqiselecttime })\r\n    this.props.history.push('/home')\r\n  }\r\n  componentWillMount(){\r\n    setTitle('选择城市')\r\n    //从localStorage中拿historyCity\r\n    var geoInfo = this.props.getGeoInfoAll().payload\r\n    if(geoInfo){\r\n      var selectcity = geoInfo.selectCity\r\n      var historycity = geoInfo.historyCity\r\n      var guoqitime = geoInfo.selectCityExpireTime\r\n      if (selectcity && new Date().getTime() < guoqitime) {\r\n        this.setState({\r\n          geoCity: selectcity\r\n        })\r\n        return\r\n      }\r\n      if (historycity && historycity !== \"全国\") {\r\n        this.setState({\r\n          geoCity: historycity\r\n        })\r\n      }\r\n    }\r\n    // this.setState({\r\n    //   geoCity: localStorage.getItem('geo','historyCity')\r\n    // })\r\n  }\r\n  render () {\r\n    return (\r\n      <div className=\"select-city\">\r\n        <header className=\"location-header\">\r\n          <p className=\"location-city\">定位城市</p>\r\n          <a className=\"location-fail\">{this.state.geoCity}</a>\r\n          {/* <div>{JSON.stringify(this.props.activity)}</div> */}\r\n        </header>\r\n        {\r\n          this.showCitybyLetter.map((item,index)=>{\r\n            return (\r\n              <div key={index} className=\"letter-item\">\r\n                {\r\n                  item.name!=='hot' ? <a id={item.name} className=\"letter-box\">{item.name}</a> : null\r\n                }\r\n                {\r\n                  item.name!=='hot' && item.citys.length && item.citys.map((cityname,cityindex)=>{\r\n                    return (\r\n                      <div key={cityindex} className=\"city-list\" onClick={this.chooseCity.bind(this, cityname)}>{cityname}</div>\r\n                    )\r\n                  })\r\n                }\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n        <SideLetter callback={this.scrollView} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  //activity: state.activity,\r\n  geo: state.geo\r\n})\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  //getAll : ()=> dispatch(activity.getAll()),\r\n  //setOne : ()=> dispatch(activity.setOne()),\r\n  //setCurrentGeo : (current) => dispatch(geo.setCurrent(current))\r\n  getGeoInfoAll: () => dispatch(geo.getGeoInfoAll()),\r\n  setGeoObject: (obj) => dispatch(geo.setGeoObject(obj)),\r\n  setSelectCity: cityname => dispatch(geo.setSelectCity(cityname))\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(SelectCityComponent)"],"sourceRoot":""}