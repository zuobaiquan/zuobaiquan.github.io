webpackJsonp([15],{"6HnJ":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("V/8j"),n=o("5aCZ");String.prototype.myReplace=function(t,e){var o=new RegExp(t,"g");return this.replace(o,e)};var i={data:function(){return{baseURL:"http://figo-medu-cloud.figo.cn/api/vendor:oss/files",form:{status:!0},rules:{title:[{required:!0,message:"標題不能为空",trigger:"blur"}]},protocolId:1}},components:{Tinymce:n.a},created:function(){var t=this,e={position:"register_protocol",id:this.protocolId};Object(r.g)(e).then(function(e){t.form=e.data.data,t.form.content=t.form.content.myReplace('<img src="','<img src="')})},methods:{submitRes:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var o={id:e.protocolId,title:e.form.title,content:e.form.content.myReplace("",""),position:"register_protocol"};Object(r.b)(o).then(function(t){200==t.status?e.$message({message:"修改成功",type:"success"}):e.$message({message:"修改失敗",type:"warning"})})})}}},s={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[o("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"標題",prop:"title"}},[o("el-input",{attrs:{placeholder:"請輸入標題"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),o("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"協議詳情",prop:"content"}},[o("Tinymce",{ref:"editor",attrs:{height:550,width:800,id:"tinymce"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),o("el-form-item",{attrs:{label:""}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitRes("form")}}},[t._v("確定")])],1)],1)],1)},staticRenderFns:[]},l=o("/Xao")(i,s,!1,null,null,null);e.default=l.exports}});