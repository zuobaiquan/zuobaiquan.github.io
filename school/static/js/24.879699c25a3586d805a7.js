webpackJsonp([24],{n69z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("HiEW"),l=n("GKmE"),r=(n("//Rb"),n("V/8j")),s={data:function(){return{list:null,listLoading:!0,currentPage:1,totalNum:1,searchObj:{size:10,projection:"withFeeProjects,withStudentInfo",auditStatus:1},selectSchooltypeOptions:[{id:"Kindergarten",name:"幼兒園"},{id:"PrimarySchool",name:"小學"},{id:"SecondarySchool",name:"中學"}],selectAreaOptions:[]}},created:function(){this.searchObj.page=this.currentPage-1,this.adminId=+this.$store.state.user.id,this.adminType=+this.$store.state.user.type,this.getDistricts(),this.fetchData()},methods:{parseTime:l.a,getDistricts:function(){var e=this;Object(r.d)({page:0,size:100}).then(function(t){e.selectAreaOptions=t.data.data.content})},handleFilter:function(){this.searchObj.districtId||delete this.searchObj.districtId,this.searchObj.schoolType||delete this.searchObj.schoolType,this.fetchData()},fetchData:function(){var e=this;this.listLoading=!0,Object(a.c)(this.searchObj).then(function(t){e.list=t.data.data.content,e.totalNum=t.data.data.totalElements,e.listLoading=!1})},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},edit:function(){}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("span",{staticStyle:{margin:"0 0 0 20px"}},[e._v("區域：")]),e._v(" "),n("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"區域"},model:{value:e.searchObj.districtId,callback:function(t){e.$set(e.searchObj,"districtId",t)},expression:"searchObj.districtId"}},e._l(e.selectAreaOptions,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),n("span",{staticStyle:{margin:"0 0 0 30px"}},[e._v("類型：")]),e._v(" "),n("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"類型"},model:{value:e.searchObj.schoolType,callback:function(t){e.$set(e.searchObj,"schoolType",t)},expression:"searchObj.schoolType"}},e._l(e.selectSchooltypeOptions,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),e._v(" "),n("br"),n("br"),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"序號",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(10*(e.currentPage-1)+t.$index+1)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"繳費類型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.feeProject?t.row.feeProject.type:"")+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"繳費名稱",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.feeProjectName)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"繳費金額",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.amount+"元")+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"截止日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.feeProject?e.parseTime(t.row.feeProject.endTime,"{y}-{m}-{d}"):"")+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"學生ID",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.studentSchoolNumber)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"學生姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.studentName)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"學校名稱",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.school?t.row.school.name:"")+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"年級",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.grade?t.row.grade.name:"")+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"班級",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.classNo?t.row.classNo.name:"")+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"創建日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("parseTime")(t.row.createTime))+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){e.edit(t.row.id)}}},[e._v("編輯")])]}}])})],1),e._v(" "),e.totalNum/10>1?n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[1,10,20,30],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.totalNum},on:{"current-change":e.handleCurrentChange}}):e._e()],1)},staticRenderFns:[]},o=n("/Xao")(s,i,!1,null,null,null);t.default=o.exports}});