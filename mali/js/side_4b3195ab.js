"use strict";$(function(){function e(e){$.cookie("provinceId")&&-1!==parseInt($.cookie("provinceId"))?e.provinceId=parseInt($.cookie("provinceId")):delete e.provinceId,$.cookie("cityId")&&-1!==parseInt($.cookie("cityId"))?e.cityId=parseInt($.cookie("cityId")):delete e.cityId,$.cookie("districtId")&&-1!==parseInt($.cookie("districtId"))?e.districtId=parseInt($.cookie("districtId")):delete e.districtId,tool.ajax("dealer:dealers",e,function(e){var i="";$(".side-content").children("li").remove();var a=e.data.content;if(a.length>0)for(var n=0;n<a.length;n++)i+='<li>\n  					<img class="fl" src="'+a[n].shopPicFull+'" alt="">\n  					<div class="fl content-right">\n  						<p class="name">['+a[n].location+"]&nbsp;"+a[n].name+'</p>\n  						<p class="user">联系人：'+a[n].masterName+'</p>\n  						<div class="daohang">\n  							<i class="icon-daohang"></i>\n  							<span>导航</span>\n  						</div>\n  					</div>\n  					<a class="jxshang-btn" href="sideagency.html?id='+a[n].id+'">经销商</a>\n  				</li>';if($.jqPaginator){if(e.data.totalPages<t)return;$.jqPaginator("#sidePagination",{totalPages:e.data.totalPages,visiblePages:5,currentPage:t,prev:'<li class="prev"><a href="side.html?p='+(t-1)+'">上一页</a></li>',next:'<li class="next"><a href="side.html?p='+(t+1)+'">下一页</a></li>',page:'<li class="page"><a href="#">{{page}}</a></li>',onPageChange:function(){$("#sidePagination .page").each(function(){var e=+$(this).find("a").text();$(this).find("a").attr("href","side.html?p="+e)})}})}$(".side-content").append(i)})}$(".banner-right li:eq(4)").addClass("active").siblings().removeClass("active");var i,a,t=+tool.getUrlParam("p")||1,n={};i=new AMap.Map("container",{resizeEnable:!0}),i.plugin("AMap.Geolocation",function(){a=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"}),i.addControl(a),a.getCurrentPosition(),AMap.event.addListener(a,"complete",function(i){n={page:t-1,size:9,clientLon:i.position.lng,clientLat:i.position.lat},e(n)}),AMap.event.addListener(a,"error",function(){n={page:t-1,size:9},e(n)})})});