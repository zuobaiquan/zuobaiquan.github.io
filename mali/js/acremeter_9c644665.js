"use strict";$(function(){function a(a){tool.ajax("shop:goods",a,function(a){var t="";$(".product-list").children("li").remove();var i=a.data.content;if(!(i.length>0))return t='<div class="no-data">暂无数据</div>',void $(".product-list").html(t);for(var l=0;l<i.length;l++)t+='<li>\n    				<img src="'+i[l].imageFull+'" alt="">\n    				<p class="product-title">'+i[l].name+'</p>\n    				<p class="product-price">￥'+i[l].price.toFixed(2)+'</p>\n    				<a class="product-advisory" target="_blank" href="acremeterdetail.html?id='+i[l].id+'">联系客服</a>\n    			</li>';if($.jqPaginator){if(a.data.totalPages<e)return;$.jqPaginator("#indexPagination",{totalPages:a.data.totalPages,visiblePages:5,currentPage:e,prev:'<li class="prev"><a href="acremeter.html?p='+(e-1)+'">上一页</a></li>',next:'<li class="next"><a href="acremeter.html?p='+(e+1)+'">下一页</a></li>',page:'<li class="page"><a href="#">{{page}}</a></li>',onPageChange:function(){$("#indexPagination .page").each(function(){var a=+$(this).find("a").text();$(this).find("a").attr("href","acremeter.html?p="+a)})}})}$(".product-list").html(t)})}$(".banner-right li:eq(2)").addClass("active").siblings().removeClass("active");var e=+tool.getUrlParam("p")||1,t={};t={page:e-1,size:9,status:!0},tool.ajax("shop:menu",{page:0,status:!0,level:0},function(a){for(var e=a.data.content,t='<li class="active">全部</li>',i=0;i<e.length;i++)t+='<li data-id="'+e[i].id+'">'+e[i].name+"</li>";$(".list-boxs").html(t)}),$(".list-boxs").on("click","li",function(){var e=$(this).data("id");$(this).addClass("active").siblings().removeClass("active"),e?($(".level-children").children().remove(),tool.ajax("shop:menu/children/"+e,{page:0,status:!0},function(e){for(var i=e.data.content,l="",n=0;n<i.length;n++)l+='<li data-id="'+i[n].id+'">'+i[n].name+"</li>";$(".level-children").html(l),i&&i.length>0&&(t.menuId=i[0].id,a(t),$(".level-children li").eq(0).addClass("active").siblings().removeClass("active"))})):(delete t.menuId,$(".level-children").children().remove(),a(t))}),$(".level-children").on("click","li",function(){$(this).addClass("active").siblings().removeClass("active"),t.menuId=$(this).data("id"),a(t)}),a(t),$(".arrow-down").click(function(){$(this).toggleClass("arrow-up"),$(".condition-list .list-boxs").toggleClass("show-allboxs")})});