"use strict";$(function(){function i(i,t){t.children("option:not(.not-remove)").remove(),tool.ajax("area:areas/"+i+"/subList",{},function(i){var e="",n=i.data.content;if(n.length>0)for(var o=i.data.content,a=0;a<o.length;a++)e+='<option data-id="'+o[a].id+'" value="'+o[a].name+'">'+o[a].name+"</option>";else e="暂无数据";t.append(e)})}function t(i){tool.ajax("machine:machine/"+i.id,i,function(i){var t=i.data;console.log(t),$(".indexdetail-tit").html('<i class="map"></i>当前位置：首页>买农机>'+t.title+">订单提交"),$(".order-info").html('<img class="fl" src="'+t.images[0]+'" alt="">\n      <ul class="fl order-infolist">\n        <li class="infolist1">'+t.title+'</li>\n        <li class="infolist2"><span class="text">销售价： </span><span class="price">￥'+t.price.toFixed(2)+'</span></li>\n        <li class="infolist3">所需缴基本服务费：'+(t.service.basicFee+t.service.warrantyFee).toFixed(2)+"元</li>\n      </ul>")})}$(".banner-right li:eq(0)").addClass("active").siblings().removeClass("active");var e={},n={};i(0,$("#province10")),$("#province10").change(function(){$("#district10").children("option:not(.not-remove)").remove();var t=$(this).children("option:selected").data("id");e.provinceId=t,t?i(t,$("#city10")):$("#city10").children("option:not(.not-remove)").remove()}),$("#city10").change(function(){var t=$(this).children("option:selected").data("id");e.cityId=t,t?i(t,$("#district10")):$("#district10").children("option:not(.not-remove)").remove()}),$("#district10").change(function(){var i=$(this).children("option:selected").data("id");e.districtId=i});var o,a,c=+tool.getUrlParam("id")||1;o=new AMap.Map("container",{resizeEnable:!0}),o.plugin("AMap.Geolocation",function(){a=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"}),o.addControl(a),a.getCurrentPosition(),AMap.event.addListener(a,"complete",function(i){n={id:c,clientLon:i.position.lng,clientLat:i.position.lat,projection:"withRegion"},t(n)}),AMap.event.addListener(a,"error",function(){n={id:c,projection:"withRegion"},t(n)})})});