"use strict";$(function(){function a(a){tool.ajax("shop:goods",a,function(a){var e="";$(".product-list").children("li").remove();var i=a.data.content;if(!(i.length>0))return e='<div class="no-data">暂无数据</div>',void $(".product-list").html(e);for(var l=0;l<i.length;l++)e+='<li>\n    				<img src="'+i[l].imageFull+'" alt="">\n    				<p class="product-title">'+i[l].name+'</p>\n    				<p class="product-price">￥'+i[l].price.toFixed(2)+'</p>\n    				<a class="product-advisory" target="_blank" href="acremeterdetail.html?id='+i[l].id+'">预定/购买</a>\n    			</li>';if($.jqPaginator){if(a.data.totalPages<t)return;$.jqPaginator("#indexPagination",{totalPages:a.data.totalPages,visiblePages:5,currentPage:t,prev:'<li class="prev"><a href="acremeter.html?p='+(t-1)+'">上一页</a></li>',next:'<li class="next"><a href="acremeter.html?p='+(t+1)+'">下一页</a></li>',page:'<li class="page"><a href="#">{{page}}</a></li>',onPageChange:function(){$("#indexPagination .page").each(function(){var a=+$(this).find("a").text();$(this).find("a").attr("href","acremeter.html?p="+a)})}})}$(".product-list").html(e)})}$(".banner-right li:eq(2)").addClass("active").siblings().removeClass("active");var t=+tool.getUrlParam("p")||1,e={};e={page:t-1,size:9,status:!0},tool.ajax("shop:menu",{page:0,status:!0,level:0},function(a){for(var t=a.data.content,e='<li class="active">全部</li>',i=0;i<t.length;i++)e+='<li data-id="'+t[i].id+'">'+t[i].name+"</li>";$(".list-boxs").html(e)}),$(".list-boxs").on("click","li",function(){var t=$(this).data("id");$(this).addClass("active").siblings().removeClass("active"),t?(e.menuId=t,a(e),tool.ajax("shop:menu/children/"+t,{page:0,status:!0},function(a){for(var t=a.data.content,e="",i=0;i<t.length;i++)e+='<li data-id="'+t[i].id+'">'+t[i].name+"</li>";$(".level-children").html(e)})):(delete e.menuId,$(".level-children").children().remove(),a(e))}),$(".level-children").on("click","li",function(){$(this).addClass("active").siblings().removeClass("active"),e.menuId=$(this).data("id"),a(e)}),a(e),$(".arrow-down").click(function(){$(this).toggleClass("arrow-up"),$(".condition-list .list-boxs").toggleClass("show-allboxs")})});