webpackJsonp([11],{HHgr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("vMJZ");var l={data:function(){return{activeTab:"first",dialogVisible:!1,dialogImageUrl:"",baseURL:"http://120.78.121.84:8086/api/upload",form:{age:1,name:null,photos:[]},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}]},edit:this.$route.params.id,flag:this.$route.params.flag,dialogFormVisible:!1,dialogTitle:"",selectOptions1:[{id:"1",name:"豪华车"},{id:"2",name:"小车"}],selectOptions2:[{id:"1",name:"奔驰1"},{id:"2",name:"奥迪1"}]}},created:function(){-1==this.flag?this.$route.meta.title="编辑司机":this.$route.meta.title="新增司机"},methods:{goBack:function(){this.$router.go(-1)},nextStep:function(){this.activeTab="second",window.scrollTo(0,0)},beforeAvatarUpload:function(e){var t=["image/jpeg","image/gif","image/png"].includes(e.type);return t||this.$message.error("图片格式不正确!"),t},handleImageScucess:function(e,t,a){this.form.icon=e.data},handleImageScucesslist:function(e,t,a){this.form.photos.push({type:"Image",url:e.data})},handleRemove:function(e,t){var a=this;this.form.photos.map(function(t,l){t.url==e.url&&a.form.photos.splice(l,1)})},handlePictureCardPreview:function(e){this.dialogImageUrl=e,this.dialogVisible=!0},submitRes:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.flag})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container driver-edit"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"个人信息",name:"first"}},[a("el-form-item",{attrs:{label:"司机姓名",prop:"name"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入司机姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"司机电话",prop:"name"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入司机电话"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"驾龄",prop:"name"}},[a("el-input-number",{staticStyle:{width:"250px"},attrs:{precision:1,step:.1,max:100},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"驾驶证",prop:"name"}},[a("el-upload",{attrs:{action:e.baseURL,"list-type":"picture-card","before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-success":e.handleImageScucesslist,"file-list":e.form.photos,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("p",{staticStyle:{color:"rgb(153, 0, 0)","margin-top":"0"}},[e._v("备注：其中图片数量，正反面驾驶证2张")])],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证",prop:"name"}},[a("el-upload",{attrs:{action:e.baseURL,"list-type":"picture-card","before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-success":e.handleImageScucesslist,"file-list":e.form.photos,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("p",{staticStyle:{color:"rgb(153, 0, 0)","margin-top":"0"}},[e._v("备注：身份证正反面")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.nextStep()}}},[e._v("下一步")])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"车辆信息",name:"second"}},[a("el-form-item",{attrs:{label:"车型",prop:"name"}},[a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}},e._l(e.selectOptions1,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}},e._l(e.selectOptions2,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"车牌号",prop:"name"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入车牌号"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行驶证",prop:"name"}},[a("el-upload",{attrs:{action:e.baseURL,"list-type":"picture-card","before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-success":e.handleImageScucesslist,"file-list":e.form.photos,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("p",{staticStyle:{color:"rgb(153, 0, 0)","margin-top":"0"}},[e._v("备注：行驶证2张，正本和副本")])],1),e._v(" "),a("el-form-item",{attrs:{label:"强制保单",prop:"name"}},[a("el-upload",{attrs:{action:e.baseURL,"list-type":"picture-card","before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-success":e.handleImageScucesslist,"file-list":e.form.photos,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("p",{staticStyle:{color:"rgb(153, 0, 0)","margin-top":"0"}},[e._v("备注：强制保单1张")])],1),e._v(" "),a("el-form-item",{attrs:{label:"商业保险单",prop:"name"}},[a("el-upload",{attrs:{action:e.baseURL,"list-type":"picture-card","before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-success":e.handleImageScucesslist,"file-list":e.form.photos,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("p",{staticStyle:{color:"rgb(153, 0, 0)","margin-top":"0"}},[e._v("备注：商业保险单1张")])],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆外观内饰",prop:"name"}},[a("el-upload",{attrs:{action:e.baseURL,"list-type":"picture-card","before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-success":e.handleImageScucesslist,"file-list":e.form.photos,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("p",{staticStyle:{color:"rgb(153, 0, 0)","margin-top":"0"}},[e._v("备注：车辆外观内饰（合并为一项）2张")])],1),e._v(" "),a("el-form-item",{attrs:{label:"司机账号",prop:"name"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入司机账号"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录密码",prop:"name"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入登录密码"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"name"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:"1"}},[e._v("开启")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("禁止")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitRes("form")}}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]},r=a("/Xao")(l,o,!1,null,null,null);t.default=r.exports}});