webpackJsonp([12],{Efpc:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("V/8j"),o={data:function(){var r=this;return{rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,validator:function(r,e,t){return e?e.length<6?t(new Error("密码长度不能少于6位")):e.length>16?t(new Error("密码长度不能大于16位")):/^\w+$/.test(e)?void t():t(new Error("密码格式不正确")):t(new Error("密码不能为空"))},trigger:"blur"}],confirmPassword:[{required:!0,validator:function(e,t,s){return t?t!==r.form.newPassword?s(new Error("两次密码输入不一致")):void s():s(new Error("确认密码不能为空"))},trigger:"blur"}]},form:{id:"",oldPassword:"",newPassword:"",confirmPassword:""}}},created:function(){this.fetchData()},methods:{fetchData:function(){var r=this;Object(s.l)().then(function(e){r.form.id=e.data.data.id})},submitRes:function(r){var e=this;this.$refs[r].validate(function(r){r&&Object(s.d)("id="+e.form.id+"&oldPassword="+e.form.oldPassword+"&newPassword="+e.form.newPassword).then(function(r){200==r.status&&0==r.data.code?(e.$message({message:"修改成功",type:"success"}),setTimeout(function(){this.$store.dispatch("LogOut").then(function(){location.reload()})}.bind(e),1500)):e.$message({message:r.data.message||"修改失败",type:"warning"})})})}}},a={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"form",attrs:{model:r.form,rules:r.rules,"label-width":"80px"}},[t("el-form-item",{staticStyle:{},attrs:{label:"当前密码",prop:"oldPassword"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{type:"password",placeholder:"请输入当前密码"},model:{value:r.form.oldPassword,callback:function(e){r.$set(r.form,"oldPassword",e)},expression:"form.oldPassword"}})],1),r._v(" "),t("el-form-item",{staticStyle:{},attrs:{label:"新密码",prop:"newPassword"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{type:"password",placeholder:"请输入新密码"},model:{value:r.form.newPassword,callback:function(e){r.$set(r.form,"newPassword",e)},expression:"form.newPassword"}})],1),r._v(" "),t("el-form-item",{staticStyle:{},attrs:{label:"确认密码",prop:"confirmPassword"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{type:"password",placeholder:"请输入确认密码"},model:{value:r.form.confirmPassword,callback:function(e){r.$set(r.form,"confirmPassword",e)},expression:"form.confirmPassword"}})],1),r._v(" "),t("el-form-item",{attrs:{label:""}},[t("el-button",{attrs:{type:"primary"},on:{click:function(e){r.submitRes("form")}}},[r._v("确 定")])],1)],1)],1)},staticRenderFns:[]},n=t("/Xao")(o,a,!1,null,null,null);e.default=n.exports}});