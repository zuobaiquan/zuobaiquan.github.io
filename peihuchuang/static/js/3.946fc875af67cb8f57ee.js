webpackJsonp([3],{"5aCZ":function(t,e,n){"use strict";var a=n("TIfe"),i=n("mtWM"),s=n.n(i),r={name:"Tinymce",props:{id:{type:String,default:"tinymceEditor"},height:{type:Number,default:300},width:{type:Number,default:null},value:{type:String,default:""},data:function(){return{hasChange:!1,hasInit:!1}}},mounted:function(){var t=this,e=this;tinymce.init({selector:"#"+this.id,language:"zh_CN",height:this.height,width:this.width,menubar:!1,plugins:["advlist autolink lists link image imagetools charmap print preview anchor textcolor","searchreplace visualblocks code fullscreen textcolor colorpicker","insertdatetime media table contextmenu paste code help"],toolbar:["insert | undo redo | table styleselect | bold italic backcolor forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | removeformat code"],images_upload_url:"postAcceptor.php",init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on("NodeChange Change KeyUp",function(){t.hasChange=!0,t.$emit("input",n.getContent({format:"raw"}))})},images_upload_handler:function(t,e,n){s.a.defaults.headers.common.Authorization=Object(a.b)();var i=new FormData;i.append("file",t.blob()),s.a.post("http://47.107.249.233:8086/api/upload",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var n=t.data.data;e(n)}).catch(function(t){console.log(t)})}})},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return tinymce.get(e.id).setContent(t)})}},destroyed:function(){tinymce.get(this.id).destroy()}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container"},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.id}})])},staticRenderFns:[]};var l=n("VU/8")(r,o,!1,function(t){n("R5sp")},"data-v-061935f4",null);e.a=l.exports},"I+dD":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.tinymce-container[data-v-061935f4] {\n  position: relative\n}\n.tinymce-textarea[data-v-061935f4] {\n  visibility: hidden;\n  z-index: -1;\n}\n\n",""])},R5sp:function(t,e,n){var a=n("I+dD");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("4e535f8a",a,!0)},Zt4k:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("6BJY"),i={data:function(){return{form:{title:"",content:""},rules:{title:[{required:!0,message:"问题不能为空",trigger:"blur"}],content:[{required:!0,message:"答案不能为空",trigger:"blur"}]},flag:+this.$route.params.flag}},components:{Tinymce:n("5aCZ").a},created:function(){-1==this.flag&&this.getArticle()},methods:{getArticle:function(){var t=this;Object(a.l)({id:this.$route.params.editid}).then(function(e){t.form=e.data.data})},submitRes:function(t){var e=this;this.$refs[t].validate(function(t){t&&(-1==e.flag?Object(a.f)(e.form).then(function(t){200==t.status&&0==t.data.code?(e.$message({message:"修改成功",type:"success"}),e.getArticle()):e.$message({message:t.data.message||"修改失敗",type:"warning"})}):Object(a.b)({title:e.form.title,content:e.form.content}).then(function(t){200==t.status&&0==t.data.code?(e.$message({message:"添加成功",type:"success"}),e.goBack()):e.$message({message:t.data.message||"添加失敗",type:"warning"})}))})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[n("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"问题",prop:"title"}},[n("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),n("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"答案",prop:"content"}},[n("Tinymce",{ref:"editor",attrs:{height:550,width:800,id:"tinymce"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitRes("form")}}},[t._v("确定")]),t._v(" "),n("el-button",{on:{click:function(e){t.goBack()}}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]},r=n("VU/8")(i,s,!1,null,null,null);e.default=r.exports}});