webpackJsonp([11],{"7GRM":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("dByW"),r={data:function(){return{form:{id:"",coverUrl:""},baseURL:"http://120.79.163.13:8080/api/oss",dialogVisible:!1,dialogImageUrl:""}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object(i.c)({page:0,size:10}).then(function(e){t.form=e.data.data.content[0]})},handleImageScucess:function(t,e,a){this.form.coverUrl=t.data},handlePictureCardPreview:function(t){this.dialogImageUrl=t,this.dialogVisible=!0},submitRes:function(){var t=this;if(""==this.form.coverUrl)return this.$message({message:"请上传图片",type:"warning"}),!1;Object(i.a)({id:this.form.id,coverUrl:this.form.coverUrl}).then(function(e){200==e.status?t.$message({message:"修改成功",type:"success"}):t.$message({message:"修改失败",type:"warning"})})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container edit-ads"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"广告图片"}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"","on-success":t.handleImageScucess,action:t.baseURL}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])])]),t._v(" "),t.form.coverUrl?a("div",{staticStyle:{"margin-left":"20px",display:"inline-block"}},[a("img",{staticStyle:{"max-width":"400px","max-height":"320px",cursor:"pointer","vertical-align":"middle"},attrs:{src:t.form.coverUrl,alt:""},on:{click:function(e){t.handlePictureCardPreview(t.form.coverUrl)}}})]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitRes()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]},n=a("/Xao")(r,s,!1,null,null,null);e.default=n.exports},dByW:function(t,e,a){"use strict";e.c=function(t){return Object(s.a)({url:"/api/advert",method:"get",params:t})},e.a=function(t){return Object(s.a)({url:"/api/advert",method:"put",data:r()(t),headers:{"Content-Type":"application/json;charset=utf-8"}})},e.d=function(){return Object(s.a)({url:"/api/banner/all?type=loadingAd",method:"get"})},e.b=function(t){return Object(s.a)({url:"/api/banner/edit",method:"post",data:r()(t),headers:{"Content-Type":"application/json;charset=utf-8"}})};var i=a("3cXf"),r=a.n(i),s=a("vLgD")}});