webpackJsonp([13],{EBBR:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("V/8j"),o={data:function(){var e=this;return{rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,validator:function(e,r,t){return r?r.length<6?t(new Error("密码长度不能少于6位")):r.length>16?t(new Error("密码长度不能大于16位")):/^\w+$/.test(r)?void t():t(new Error("密码格式不正确")):t(new Error("密码不能为空"))},trigger:"blur"}],confirmPassword:[{required:!0,validator:function(r,t,s){return t?t!==e.form.newPassword?s(new Error("两次密码输入不一致")):void s():s(new Error("确认密码不能为空"))},trigger:"blur"}]},form:{id:"",oldPassword:"",newPassword:"",confirmPassword:""}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Object(s.n)().then(function(r){e.form.id=r.data.data.id})},submitRes:function(e){var r=this;this.$refs[e].validate(function(e){e&&Object(s.e)("id="+r.form.id+"&oldPassword="+r.form.oldPassword+"&newPassword="+r.form.newPassword).then(function(e){200==e.status&&0==e.data.code?(r.$message({message:"修改成功",type:"success"}),setTimeout(function(){this.$store.dispatch("LogOut").then(function(){location.reload()})}.bind(r),1500)):r.$message({message:e.data.message||"修改失败",type:"warning"})})})}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{staticStyle:{},attrs:{label:"当前密码",prop:"oldPassword"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{type:"password",placeholder:"请输入当前密码"},model:{value:e.form.oldPassword,callback:function(r){e.$set(e.form,"oldPassword",r)},expression:"form.oldPassword"}})],1),e._v(" "),t("el-form-item",{staticStyle:{},attrs:{label:"新密码",prop:"newPassword"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.form.newPassword,callback:function(r){e.$set(e.form,"newPassword",r)},expression:"form.newPassword"}})],1),e._v(" "),t("el-form-item",{staticStyle:{},attrs:{label:"确认密码",prop:"confirmPassword"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{type:"password",placeholder:"请输入确认密码"},model:{value:e.form.confirmPassword,callback:function(r){e.$set(e.form,"confirmPassword",r)},expression:"form.confirmPassword"}})],1),e._v(" "),t("el-form-item",{attrs:{label:""}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitRes("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},n=t("VU/8")(o,a,!1,null,null,null);r.default=n.exports}});