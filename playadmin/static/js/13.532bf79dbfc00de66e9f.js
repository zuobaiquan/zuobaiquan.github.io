webpackJsonp([13],{dEdu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("vMJZ"),l={data:function(){return{list:null,listLoading:!0,currentPage:1,totalNum:1,searchObj:{pageSize:10},editdialogFormVisible:!1,form2:{type:0,price:""},rules2:{price:[{required:!0,validator:function(e,t,a){return t?/(^[1-9]{1}[0-9]*$)|(^[0-9]*\.[0-9]{1,2}$)/.test(t)?void a():a(new Error("制卡价格格式不正确")):a(new Error("制卡价格不为空"))},trigger:"blur"}]},form3:{},detaildialogFormVisible:!1}},created:function(){this.fetchData()},methods:{userOperate:function(e,t){-1==t?(this.$refs.form2&&this.$refs.form2.clearValidate(),this.editdialogFormVisible=!0,this.form2=e):0==t&&(this.form3=e,this.detaildialogFormVisible=!0)},submitRes:function(e){this.$refs[e].validate(function(e){if(!e)return!1})},fetchData:function(){var e=this;this.listLoading=!0,this.searchObj.pageNo=this.currentPage,Object(r.d)(this.searchObj).then(function(t){e.list=t.data.data.records,console.log(e.list),e.totalNum=t.data.data.total,e.listLoading=!1})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.id)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用户昵称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.nickname||"--")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"登录微信账号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.email||"--")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s("male"==t.row.gender?"男":("female"==t.row.gender?"女":"未知")||"--")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"年龄",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.age||"--")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"绑定手机号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.phone||"--")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"账户余额/元",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.balance||"--")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"初始登录时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("parseTime")(t.row.createTime))+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"200",fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.userOperate(t.row,0)}}},[e._v("查看详情")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.userOperate(t.row,-1)}}},[e._v("编辑余额")])]}}])})],1),e._v(" "),e.totalNum/10>1?a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[1,10,20,30],"page-size":10,layout:"total, prev, pager, next, jumper",total:e.totalNum},on:{"current-change":e.handleCurrentChange}}):e._e(),e._v(" "),a("el-dialog",{staticStyle:{width:"60%",margin:"0 auto"},attrs:{title:"编辑余额",visible:e.editdialogFormVisible},on:{"update:visible":function(t){e.editdialogFormVisible=t}}},[a("el-form",{ref:"form2",attrs:{model:e.form2,rules:e.rules2}},[a("el-form-item",{attrs:{label:""}},[e._v("账户余额：880.00元")]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"type"}},[a("el-radio-group",{model:{value:e.form2.type,callback:function(t){e.$set(e.form2,"type",t)},expression:"form2.type"}},[a("el-radio",{attrs:{label:1}},[e._v("充值")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("缴费")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"操作金额：",prop:"price"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入操作金额","auto-complete":"off"},model:{value:e.form2.price,callback:function(t){e.$set(e.form2,"price",t)},expression:"form2.price"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editdialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitRes("form2")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"用户详情",visible:e.detaildialogFormVisible},on:{"update:visible":function(t){e.detaildialogFormVisible=t}}},[a("el-form",{ref:"form3",attrs:{model:e.form3}},[a("el-form-item",{attrs:{label:""}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("span",[e._v("头像：")]),e._v(" "),a("img",{staticStyle:{"margin-left":"20px",width:"80px",height:"80px","border-radius":"50%",display:"inline-block","vertical-align":"middle"},attrs:{src:e.form3.avatar,alt:""}})]),e._v(" "),a("div",{staticClass:"column-three"},[a("span",{staticClass:"three-item"},[e._v("用户昵称："+e._s(e.form3.nickname||"--"))]),e._v(" "),a("span",{staticClass:"three-item"},[e._v("性别："+e._s(e.form3.sex||"--"))]),e._v(" "),a("span",{staticClass:"three-item"},[e._v("年龄："+e._s("male"==e.form3.gender?"男":("female"==e.form3.gender?"女":"未知")||"--"))])]),e._v(" "),a("div",{staticClass:"column-three"},[a("span",{staticClass:"three-item"},[e._v("登录微信账号："+e._s(e.form3.nickname||"--"))]),e._v(" "),a("span",{staticClass:"three-item"},[e._v("初始登录时间："+e._s(e.parseTime(e.form3.createTime,"{y}-{m}-{d}")||"--"))]),e._v(" "),a("span",{staticClass:"three-item"},[e._v("捐献达人："+e._s(e.form3.name||"暂未获得"))])]),e._v(" "),a("div",{staticClass:"column-three"},[a("span",{staticClass:"three-item"},[e._v("绑定手机号："+e._s(e.form3.phone||"--"))]),e._v(" "),a("span",{staticClass:"three-item"},[e._v("账户余额："+e._s(e.form3.balance||"--"))]),e._v(" "),a("span",{staticClass:"three-item"},[e._v("勋章名称："+e._s(e.form3.name||"暂未获得"))])]),e._v(" "),a("div",{staticClass:"column-three"},[a("span",{staticClass:"three-item"},[e._v("捐单数："+e._s(e.form3.name||"--"))]),e._v(" "),a("span",{staticClass:"three-item"},[e._v("放单数："+e._s(e.form3.name||"--"))]),e._v(" "),a("span",{staticClass:"three-item"})])])],1)],1)],1)},staticRenderFns:[]},s=a("VU/8")(l,i,!1,null,null,null);t.default=s.exports}});