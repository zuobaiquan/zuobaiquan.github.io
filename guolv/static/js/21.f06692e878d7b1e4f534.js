webpackJsonp([21],{AQSR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("lC5x"),n=a.n(s),r=a("J0Oq"),i=a.n(r),o=a("GKtG"),c=null,d="",l={name:"forgetpass",data:function(){return{sendFlag:!1,time:60,cardId:"",newPayPassword:"",verifyCode:"",newrePayPassword:"",phone:"",verifyWaterNo:"",cardInfo:{},activateCodeObj:{}}},methods:{getInputpass:function(e){this.newPayPassword=e},getInputrepass:function(e){this.newrePayPassword=e},getCode:function(){var e=this;return i()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.verifyPhone(e.phone)||e.sendFlag){t.next=14;break}return t.prev=1,t.next=4,Object(o.h)("cardNo="+e.cardNo);case 4:200==(a=t.sent).status&&a.data&&0==a.data.code?(e.activateCodeObj=a.data.data,Toast(a.data.message),e.sendFlag=!0,c=setInterval(function(){--this.time,0==this.time&&(this.sendFlag=!1,this.time=60,clearInterval(c))}.bind(e),1e3)):(d=Toast(a.data.message),e.sendFlag=!1,e.time=60,clearInterval(c)),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(1),Toast("接口异常，稍后再试"),e.sendFlag=!1,e.time=60,clearInterval(c);case 14:case"end":return t.stop()}},t,e,[[1,8]])}))()},submit:function(){var e=this;return i()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.verifyPhone(e.phone)&&e.isEmpty(e.verifyCode,"验证码不能为空")&&e.verifyLength(e.verifyCode,"验证码输入6位")&&e.verifyPassword(e.newPayPassword)&&e.verifyPassword(e.newrePayPassword,2)&&e.isEquals(e.newPayPassword,e.newrePayPassword))){t.next=14;break}if(e.sendFlag){t.next=4;break}return Toast("请获取验证码"),t.abrupt("return");case 4:return t.prev=4,t.next=7,Object(o.g)("cardId="+e.cardId+"&newPayPassword="+e.newPayPassword+"&verifyCode="+e.verifyCode+"&verifyWaterNo="+e.activateCodeObj.verifyWaterNo);case 7:200==(a=t.sent).status&&a.data&&0==a.data.code?(d=Toast("密码已重置"),setTimeout(function(){this.goBack()}.bind(e),1500)):(d=Toast(a.data.message),e.sendFlag=!1,e.time=60,clearInterval(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),d=Toast("接口异常，稍后再试");case 14:case"end":return t.stop()}},t,e,[[4,11]])}))()}},created:function(){var e=this;return i()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$nextTick(function(){document.body.className="bgGray"}),e.cardId=e.getUrlParam("cardid"),t.prev=2,t.next=5,Object(o.j)({cardId:e.cardId});case 5:200==(a=t.sent).status&&a.data?e.cardInfo=a.data.data:Toast(a.data.message||"接口异常，稍后再试"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),Toast("接口异常，稍后再试");case 12:case"end":return t.stop()}},t,e,[[2,9]])}))()},beforeDestroy:function(){document.body.className="",d&&d.close()}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"person-center index-box"},[a("div",{staticClass:"tit-title"},[a("a",{staticClass:"arrow-left",attrs:{href:"javascript:;"},on:{click:e.goBack}}),e._v("忘记密码"),a("a",{staticClass:"house-icon",attrs:{href:"javascript:;"},on:{click:e.userPage}})]),e._v(" "),a("ul",{staticClass:"info-list"},[a("li",[a("span",[e._v("FinE卡号")]),e._v(" "),a("span",[e._v(e._s(e.cardInfo.cardApplyInfo&&e.cardInfo.cardApplyInfo.cardNo))])]),e._v(" "),a("li",[a("span",[e._v("卡号币种")]),e._v(" "),a("span",{staticClass:"right-graytxt"},[e._v(e._s(e._f("currencyType")(e.cardInfo.cardApplyInfo&&e.cardInfo.cardApplyInfo.currency)))])]),e._v(" "),a("li",{staticClass:"no-borderline"},[a("span",[e._v("手机号码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{maxlength:"11",type:"tel",placeholder:"请输入您的手机号码",value:""},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"common-txt"},[e._v("短信验证码")]),e._v(" "),a("ul",{staticClass:"info-list"},[a("li",{staticClass:"no-borderline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyCode,expression:"verifyCode"}],staticClass:"input-left",attrs:{type:"tel",maxlength:"6",placeholder:"请输入验证码",value:""},domProps:{value:e.verifyCode},on:{input:function(t){t.target.composing||(e.verifyCode=t.target.value)}}}),e._v(" "),a("a",{staticClass:"get-code",attrs:{href:"javascript:;"},on:{click:e.getCode}},[e._v(e._s(e.sendFlag?e.time+"s":"获取验证码"))])])]),e._v(" "),a("div",{staticClass:"common-txt"},[e._v("新密码")]),e._v(" "),a("ul",{staticClass:"info-list"},[a("li",{staticClass:"no-borderline"},[a("emInput",{attrs:{maxlength:6,className:"input-left",star:!0,placeholder:"请设置6位数字为新密码"},on:{input:e.getInputpass}})],1)]),e._v(" "),a("div",{staticClass:"common-txt"},[e._v("确认密码")]),e._v(" "),a("ul",{staticClass:"info-list"},[a("li",{staticClass:"no-borderline"},[a("emInput",{attrs:{maxlength:6,className:"input-left",star:!0,placeholder:"请再次输入6位数字的新密码"},on:{input:e.getInputrepass}})],1)]),e._v(" "),a("a",{staticClass:"fine-btn singe-finebtn btning",attrs:{href:"javascript:;"},on:{click:e.submit}},[e._v("确认")])])},staticRenderFns:[]},u=a("C7Lr")(l,v,!1,null,null,null);t.default=u.exports}});