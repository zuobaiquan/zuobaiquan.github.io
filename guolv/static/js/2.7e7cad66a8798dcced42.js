webpackJsonp([2],{"7Yii":function(a,t,s){a.exports=s.p+"static/img/pho_fine_card_bg.77ac326.png"},JNnp:function(a,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("lC5x"),o=s.n(n),c=s("J0Oq"),r=s.n(c),e=s("GKtG"),i=s("vMJZ"),l={name:"password",data:function(){return{isShow:!1,index:-1,passwordResult:""}},props:{value:{type:Boolean,default:!1}},watch:{value:function(a){a&&(this.isShow=a,this.$nextTick(function(){for(var a=0,t=this.$refs.inputArea.getElementsByTagName("input");a<t.length;a++)t[a].style.height=t[a].offsetWidth+"px";document.forms[0].elements[0].focus()}))},isShow:function(a){this.$emit("input",a)}},methods:{btnPassword:function(a){var t=a.currentTarget,s=this.$refs.inputArea.getElementsByTagName("input");if(this.index<5&&(this.index++,s[this.index].value=t.innerText),5==this.index){this.passwordResult="";for(var n=0;n<s.length;n++)this.passwordResult+=s[n].value;this.$emit("result",this.passwordResult)}},btnDelete:function(){var a=this.$refs.inputArea.getElementsByTagName("input");this.index>=0&&(a[this.index].value="",this.index--)},close:function(){this.isShow=!1,this.index=-1}}},d={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return a.isShow?s("section",{staticClass:"pay-mask",attrs:{value:a.value}},[s("div",{staticClass:"container"},[s("div",{staticClass:"pay-title"},[s("i",{staticClass:"close",on:{click:a.close}}),a._v("请输入FinE卡密码")]),a._v(" "),s("div",{staticClass:"pay-content"},[s("form",[s("div",{ref:"inputArea",staticClass:"ipt-pay"},[s("input",{attrs:{type:"password",maxlength:"1"}}),a._v(" "),s("input",{attrs:{type:"password",maxlength:"1"}}),a._v(" "),s("input",{attrs:{type:"password",maxlength:"1"}}),a._v(" "),s("input",{attrs:{type:"password",maxlength:"1"}}),a._v(" "),s("input",{attrs:{type:"password",maxlength:"1"}}),a._v(" "),s("input",{attrs:{type:"password",maxlength:"1"}})])])])]),a._v(" "),s("footer",{staticClass:"pay-footer"},[s("ul",{staticClass:"pay-btn"},[s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("1")]),a._v(" "),s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("2")]),a._v(" "),s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("3")]),a._v(" "),s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("4")]),a._v(" "),s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("5")]),a._v(" "),s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("6")]),a._v(" "),s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("7")]),a._v(" "),s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("8")]),a._v(" "),s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("9")]),a._v(" "),s("li",{staticClass:"b9"}),a._v(" "),s("li",{on:{click:function(t){a.btnPassword(t)}}},[a._v("0")]),a._v(" "),s("li",{staticClass:"b9",on:{click:a.btnDelete}},[a._v("删除")])])])]):a._e()},staticRenderFns:[]},p="",u={name:"cardinfo",data:function(){return{cardInfo:{},userInfo:{},cardid:"",shipStatus:"",paypassError:"",payShow:!1,maskShow:!1,showpassword:!1,cardBoxImg:s("7Yii")}},components:{password:s("C7Lr")(l,d,!1,null,null,null).exports},methods:{goBack:function(){this.$router.replace({path:"index"})},listHandle:function(a){if(("transferfund"==a||"withdrawcard"==a)&&this.cardInfo.cardApplyInfo&&0==+this.cardInfo.cardApplyInfo.certType)return p&&p.close(),void(p=Toast("仅支持实名认证卡片操作"));this.$router.push({path:a,query:{cardid:this.cardid,cardno:this.cardInfo.cardApplyInfo.cardNo}})},closePop:function(){this.maskShow=!1},showPassword:function(){"冻结"!=this.cardStatus(this.cardInfo)?this.showpassword=!0:Toast("账号被临时冻结")},cardStatus:function(a){return a&&a.cardApplyInfo&&1==a.cardApplyInfo.cardStatus?"待激活":a&&a.cardApplyInfo&&3==a.cardApplyInfo.cardStatus?"停用":a&&a.globalStatus&&"00"==a.globalStatus.cardStatus?"正常":a&&a.globalStatus&&"01"==a.globalStatus.cardStatus?"未启用":a&&a.globalStatus&&"03"==a.globalStatus.cardStatus?"正在制卡":a&&a.globalStatus&&"10"==a.globalStatus.cardStatus?"锁定":a&&a.globalStatus&&"11"==a.globalStatus.cardStatus?"挂失":a&&a.globalStatus&&"17"==a.globalStatus.cardStatus?"被盗":a&&a.globalStatus&&"18"==a.globalStatus.cardStatus?"冻结":a&&a.globalStatus&&"99"==a.globalStatus.cardStatus?"注销":void 0},resetPass:function(){this.$refs.childPassword.close(),this.payShow=!1,this.showpassword=!1,setTimeout(function(){this.showpassword=!0}.bind(this),500)},forgetPass:function(){this.$router.push({path:"forgetpass",query:{cardid:this.cardid}})},getResult:function(a){var t=this;return r()(o.a.mark(function s(){var n,c;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(e.j)({cardId:t.getUrlParam("cardid"),payPassword:a});case 3:if(200!=(n=s.sent).status||!n.data||0!=n.data.code){s.next=10;break}c=n.data.data,Toast("密码验证成功"),t.$router.push({path:"carddetail",query:{cardNo:c.cardApplyInfo.cardNo,expireDate:c.globalInfo.expireDate,balance:c.globalInfo.balance,currencyType:c.globalInfo.currencyType,status:t.cardStatus(c),cardVerifyCode:c.globalInfo.cardVerifyCode}}),s.next=14;break;case 10:return t.paypassError=n.data.message,t.maskShow=!1,t.payShow=!0,s.abrupt("return");case 14:s.next=20;break;case 16:s.prev=16,s.t0=s.catch(0),t.maskShow=!1,Toast("接口异常，稍后再试");case 20:case"end":return s.stop()}},s,t,[[0,16]])}))()}},created:function(){var a=this;return r()(o.a.mark(function t(){var s,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.$nextTick(function(){document.body.className=""}),a.cardid=a.getUrlParam("cardid"),t.prev=2,t.next=5,Object(e.j)({cardId:a.cardid});case 5:return 200==(s=t.sent).status&&s.data?(a.cardInfo=s.data.data,a.cardInfo.cardApplyInfo.shipStatus&&(a.maskShow=!0,a.shipStatus=a.cardInfo.cardApplyInfo.shipStatus)):Toast(s.data.message||"接口异常，稍后再试"),t.next=9,Object(i.f)();case 9:200==(n=t.sent).status&&n.data?(a.userInfo=n.data.data,a.phoneNum=a.userInfo.mobNo):Toast(n.data.message||"接口异常，稍后再试"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),a.$store.dispatch("LogOut").then(function(){location.reload()});case 16:case"end":return t.stop()}},t,a,[[2,13]])}))()},beforeDestroy:function(){p&&p.close()}},f={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"index-box"},[s("div",{staticClass:"tit-title"},[s("a",{staticClass:"arrow-left",attrs:{href:"javascript:;"},on:{click:a.goBack}}),a._v("卡片"),s("a",{staticClass:"house-icon",attrs:{href:"javascript:;"},on:{click:a.userPage}})]),a._v(" "),s("div",{staticClass:"card-box",on:{click:a.showPassword}},[s("img",{staticClass:"cardbox-img",attrs:{src:a.cardBoxImg,alt:""}}),a._v(" "),a.cardInfo.cardApplyInfo?s("ul",{staticClass:"card-tags"},[s("li",{class:{"has-auth":a.cardInfo.cardApplyInfo&&1==a.cardInfo.cardApplyInfo.cardType}},[a._v(a._s(a.cardInfo.cardApplyInfo&&(1==a.cardInfo.cardApplyInfo.cardType?"实体卡":"虚拟卡")))]),a._v(" "),s("li",{class:{"has-auth":a.cardInfo.cardApplyInfo&&1==a.cardInfo.cardApplyInfo.certType}},[a._v(a._s(a.cardInfo.cardApplyInfo&&(1==a.cardInfo.cardApplyInfo.certType?"已实名":"未实名")))]),a._v(" "),s("li",{class:{"has-auth":"正常"==a.cardStatus(a.cardInfo)}},[a._v(a._s(a._f("cardStatus")(a.cardInfo)))])]):a._e(),a._v(" "),s("p",{staticClass:"card-sending",staticStyle:{display:"none"}},[a._v("配送信息")]),a._v(" "),s("p",{staticClass:"card-number"},[a._v(a._s(a.cardInfo.cardApplyInfo&&a.cardInfo.cardApplyInfo.cardNo))])]),a._v(" "),s("div",{staticClass:"index-center"},[s("ul",{staticClass:"center-list"},[s("li",[s("div",{staticClass:"top"},[s("p",{staticClass:"left-color",class:{"small-font":a.cardInfo.globalInfo&&a.cardInfo.globalInfo.balance&&a.cardInfo.globalInfo.balance.length>5}},[a._v(a._s(a._f("moneyUnit")(a.cardInfo.globalInfo&&a.cardInfo.globalInfo.balance)))]),a._v(" "),s("p",[s("span",{staticClass:"left-color"},[a._v(a._s(a.cardInfo.cardApplyInfo&&a.cardInfo.cardApplyInfo.currency))]),a._v(" "),s("span",[a._v(a._s(a._f("currencyType")(a.cardInfo.cardApplyInfo&&a.cardInfo.cardApplyInfo.currency)))])])]),a._v(" "),s("p",{staticClass:"bottom"},[a._v("余额")])]),a._v(" "),s("li",[s("div",{staticClass:"top"},[s("p",{staticClass:"right-color"},[a._v("0")]),a._v(" "),s("p",[s("span",{staticClass:"right-color"},[a._v(a._s(a.cardInfo.cardApplyInfo&&a.cardInfo.cardApplyInfo.currency))]),a._v(" "),s("span",[a._v(a._s(a._f("currencyType")(a.cardInfo.cardApplyInfo&&a.cardInfo.cardApplyInfo.currency)))])])]),a._v(" "),s("p",{staticClass:"bottom"},[a._v("红包")])])])]),a._v(" "),s("div",{staticClass:"cardservice-list"},[s("p",{staticClass:"service-tit"},[a._v("服务区")]),a._v(" "),s("ul",{staticClass:"service-list"},[s("li",{on:{click:function(t){a.listHandle("recharge")}}},[s("i"),a._v(" "),s("p",[a._v("充值")])]),a._v(" "),s("li",{on:{click:function(t){a.listHandle("record")}}},[s("i"),a._v(" "),s("p",[a._v("交易记录")])]),a._v(" "),s("li",{on:{click:function(t){a.listHandle("withdrawcard")}}},[s("i"),a._v(" "),s("p",[a._v("提现")])]),a._v(" "),s("li",{on:{click:function(t){a.listHandle("transferfund")}}},[s("i"),a._v(" "),s("p",[a._v("转账")])]),a._v(" "),s("li",{on:{click:function(t){a.listHandle("changecard")}}},[s("i"),a._v(" "),s("p",[a._v("补换卡")])]),a._v(" "),s("li",{on:{click:function(t){a.listHandle("reportloss")}}},[s("i"),a._v(" "),s("p",[a._v("挂失")])]),a._v(" "),s("li",{on:{click:function(t){a.listHandle("activitylist")}}},[s("i"),a._v(" "),s("p",[a._v("最新活动")])]),a._v(" "),s("li",{on:{click:function(t){a.listHandle("resetpaypass")}}},[s("i"),a._v(" "),s("p",[a._v("支付密码")])])])]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.maskShow||a.payShow,expression:"maskShow || payShow"}],staticClass:"mask"}),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.maskShow,expression:"maskShow"}],staticClass:"popBox"},[s("p",{staticClass:"pop-title"},[a._v("配送信息")]),a._v(" "),1==a.shipStatus?s("div",{staticClass:"pop-content"},[a._v("正在为您配卡，请耐心等待！")]):a._e(),a._v(" "),2==a.shipStatus?s("div",{staticClass:"pop-content"},[s("p",{staticClass:"pop-express"},[a._v("已邮寄，"+a._s(a.cardInfo.cardApplyInfo.shipName)+a._s(a.cardInfo.cardApplyInfo.shipNo))]),a._v(" "),s("p",{staticClass:"pop-tips"},[a._v("温馨提示：请自行前往物流平台查看")])]):a._e(),a._v(" "),s("a",{staticClass:"pop-btn",attrs:{href:"javascript:;"},on:{click:a.closePop}},[a._v("好的，我知道了")])]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.payShow,expression:"payShow"}],staticClass:"popBox",staticStyle:{height:"auto"}},[s("p",{staticClass:"pop-title"},[a._v("温馨提示")]),a._v(" "),s("div",{staticClass:"pop-content"},[a._v(a._s(a.paypassError))]),a._v(" "),s("ul",{staticClass:"pop-list"},[s("li",{on:{click:a.forgetPass}},[a._v("忘记密码")]),a._v(" "),s("li",{staticClass:"btn-again",on:{click:a.resetPass}},[a._v("重新输入")])])]),a._v(" "),s("password",{ref:"childPassword",on:{result:a.getResult},model:{value:a.showpassword,callback:function(t){a.showpassword=t},expression:"showpassword"}})],1)},staticRenderFns:[]},v=s("C7Lr")(u,f,!1,null,null,null);t.default=v.exports}});