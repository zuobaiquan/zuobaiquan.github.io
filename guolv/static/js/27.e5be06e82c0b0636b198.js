webpackJsonp([27],{WXC4:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("lC5x"),n=s.n(a),i=s("J0Oq"),r=s.n(i),c=s("GKtG"),o={name:"applycard",data:function(){return{maskShow:!1,cardType:1,addrId:"",bzIndex:0,diyContent:"",versionIndex:0,bzcardList:["实体卡","虚拟卡"],bzList:["CNH(人民币)","HKD(港币)","USD(美元)"],versionList:["普通版","定制版"],reNameIndex:0,reNameList:["实名","非实名"]}},methods:{goBack:function(){this.$router.replace({path:"index"})},closePop:function(){this.maskShow=!1,this.$router.replace({path:"index"})},changeBz:function(e){this.bzIndex=e},changeBzcard:function(e){this.cardType=e+1},changeVersion:function(e){this.versionIndex=e,this.reNameList=1==e?["实名"]:["实名","非实名"]},isRealName:function(e){this.reNameIndex=e},submit:function(){var e=this;return r()(n.a.mark(function t(){var s,a,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,s={cardDiy:e.versionIndex,cardType:e.cardType,certType:e.reNameIndex,currency:["CNY","HKD","USD"][e.bzIndex]},1!=e.versionIndex||1!=e.cardType){t.next=12;break}if(e.isEmpty(e.diyContent,"定制内容不能为空")){t.next=7;break}return t.abrupt("return");case 7:if(e.isLetter(e.diyContent,"定制内容为大写字母")){t.next=11;break}return t.abrupt("return");case 11:s.diyContent=e.diyContent;case 12:if(1==e.cardType&&(s.cardDiy=e.versionIndex,a={cardid:e.cardId,cardDiy:e.versionIndex,cardType:e.cardType,certType:e.reNameIndex,currency:["CNY","HKD","USD"][e.bzIndex]},1==e.versionIndex&&1==e.cardType&&(a.diyContent=e.diyContent),e.$router.push({path:"applycardaddr",query:a})),2!=e.cardType){t.next=29;break}return t.next=16,Object(c.b)(s);case 16:if(200!=(i=t.sent).status||!i.data||0!=i.data.code){t.next=27;break}return e.maskShow=!0,e.cardType=1,e.bzIndex=1,e.diyContent="",e.versionIndex=0,e.reNameIndex=0,t.abrupt("return");case 27:return Toast(i.data.message),t.abrupt("return");case 29:t.next=35;break;case 31:return t.prev=31,t.t0=t.catch(0),Toast("接口异常，稍后再试"),t.abrupt("return");case 35:case"end":return t.stop()}},t,e,[[0,31]])}))()}},created:function(){this.addrId=this.getUrlParam("addrid"),this.$nextTick(function(){document.body.className="bgGray"})},beforeDestroy:function(){document.body.className=""}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"person-center index-box"},[s("div",{staticClass:"tit-title"},[s("a",{staticClass:"arrow-left",attrs:{href:"javascript:;"},on:{click:e.goBack}}),e._v("申请FinE卡"),s("a",{staticClass:"house-icon",attrs:{href:"javascript:;"},on:{click:e.userPage}})]),e._v(" "),s("div",{staticClass:"bzx-select bzx-firstselect"},[s("p",{staticClass:"bz-txt"},[e._v("请选择卡片类型")]),e._v(" "),s("ul",{staticClass:"bzcard-list"},e._l(e.bzcardList,function(t,a){return s("li",{class:{active:e.cardType==a+1},on:{click:function(t){e.changeBzcard(a)}}},[e._v(e._s(t))])}))]),e._v(" "),s("div",{staticClass:"bzx-select"},[s("p",{staticClass:"bz-txt"},[e._v("卡片币种")]),e._v(" "),s("ul",{staticClass:"bz-list"},e._l(e.bzList,function(t,a){return s("li",{class:{active:e.bzIndex==a},on:{click:function(t){e.changeBz(a)}}},[e._v(e._s(t))])}))]),e._v(" "),1==e.cardType?s("p",{staticClass:"common-txt"},[e._v("版本选择")]):e._e(),e._v(" "),1==e.cardType?s("ul",{staticClass:"info-list"},e._l(e.versionList,function(t,a){return s("li",{on:{click:function(t){e.changeVersion(a)}}},[s("span",[e._v(e._s(t))]),e._v(" "),s("span",{staticClass:"chose-radio",class:{"is-chosen":e.versionIndex==a}})])})):e._e(),e._v(" "),1==e.cardType&&1==e.versionIndex?s("div",{staticClass:"common-txt"},[e._v("定制内容")]):e._e(),e._v(" "),1==e.cardType&&1==e.versionIndex?s("ul",{staticClass:"info-list"},[s("li",{staticClass:"no-borderline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.diyContent,expression:"diyContent"}],staticClass:"input-left",attrs:{placeholder:"请输入您要定制的拼音",type:"text",value:""},domProps:{value:e.diyContent},on:{input:function(t){t.target.composing||(e.diyContent=t.target.value)}}})])]):e._e(),e._v(" "),s("div",{staticClass:"common-txt"},[e._v("是否实名")]),e._v(" "),s("ul",{staticClass:"info-list"},e._l(e.reNameList,function(t,a){return s("li",{class:{"no-borderline":2==e.reNameList.length&&1==a},on:{click:function(t){e.isRealName(a)}}},[s("span",[e._v(e._s(t))]),e._v(" "),s("span",{staticClass:"chose-radio",class:{"is-chosen":a==e.reNameIndex}})])})),e._v(" "),s("p",{staticClass:"fund-tips"},[e._v("温馨提示：FinE卡有虚拟卡和实体卡两种类型，虚拟卡又分为可实名和非实名制。每位用户只能申请一张虚拟卡。")]),e._v(" "),s("a",{staticClass:"fine-btn singe-finebtn btning",attrs:{href:"javascript:;"},on:{click:e.submit}},[e._v(e._s(1==e.cardType?"下一步":"提交申请"))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.maskShow,expression:"maskShow"}],staticClass:"mask"}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.maskShow,expression:"maskShow"}],staticClass:"popBox"},[s("p",{staticClass:"pop-title"},[e._v("申请成功")]),e._v(" "),e._m(0),e._v(" "),s("a",{staticClass:"pop-btn",attrs:{href:"javascript:;"},on:{click:e.closePop}},[e._v("前往查看")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pop-content"},[t("p",{staticClass:"pop-express"},[this._v("恭喜您的FinE卡已经申请成功，请在首页卡片列表中查看。")])])}]},l=s("C7Lr")(o,d,!1,null,null,null);t.default=l.exports}});