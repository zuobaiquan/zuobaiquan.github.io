webpackJsonp([10],{"sRf/":function(a,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=s("lC5x"),r=s.n(e),n=s("J0Oq"),c=s.n(n),o=s("GKtG"),i=s("1zv/"),l={name:"transferFund",data:function(){return{cardInfo:{},amount:"",maskShow:!1,payPassword:"",recAccName:"",toCardNo:"",errorMsg:"",isback:!1,submitFlag:!1}},methods:{getInputPass:function(a){this.payPassword=a},closePop:function(){this.maskShow=!1,this.isback&&this.$router.replace({path:"cardinfo",query:{cardid:this.cardId}})},transferSubmit:function(){var a=this;return c()(r.a.mark(function t(){var s,e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.isEmpty(a.toCardNo,"卡号不为空")&&a.verifyLength(a.toCardNo,"卡号为16位",16)&&a.isMoney(a.amount)&&a.isEmpty(a.payPassword,"支付密码不为空")&&a.verifyLength(a.payPassword,"支付密码为6位",6))){t.next=29;break}return Indicator.open(),a.submitFlag=!0,t.prev=3,s="amount="+100*a.amount+"&recAccName="+a.recAccName+"&toCardNo="+a.toCardNo+"&payPassword="+a.payPassword+"&cardId="+a.cardId,t.next=7,Object(i.a)(s);case 7:if(200!=(e=t.sent).status||!e.data||0!=e.data.code){t.next=17;break}return a.errorMsg="转账成功",a.maskShow=!0,a.isback=!0,a.submitFlag=!1,Indicator.close(),t.abrupt("return");case 17:a.errorMsg=e.data.message,a.isback=!1,a.maskShow=!0,a.submitFlag=!1,Indicator.close();case 22:t.next=29;break;case 24:t.prev=24,t.t0=t.catch(3),Toast("接口异常，稍后再试"),a.submitFlag=!1,Indicator.close();case 29:case"end":return t.stop()}},t,a,[[3,24]])}))()}},created:function(){var a=this;return c()(r.a.mark(function t(){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.cardId=a.getUrlParam("cardid"),a.$nextTick(function(){document.body.className="bgGray"}),t.prev=2,t.next=5,Object(o.h)({cardId:a.cardId});case 5:200==(s=t.sent).status&&s.data?a.cardInfo=s.data.data:Toast(s.data.message||"接口异常，稍后再试"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a.$store.dispatch("LogOut").then(function(){location.reload()});case 12:case"end":return t.stop()}},t,a,[[2,9]])}))()},beforeDestroy:function(){document.body.className=""}},p={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"person-center index-box"},[s("div",{staticClass:"tit-title"},[s("a",{staticClass:"arrow-left",attrs:{href:"javascript:;"},on:{click:a.goBack}}),a._v("转账"),s("a",{staticClass:"house-icon",attrs:{href:"javascript:;"},on:{click:a.userPage}})]),a._v(" "),s("p",{staticClass:"common-txt"},[a._v("转入到")]),a._v(" "),s("ul",{staticClass:"info-list"},[s("li",[s("span",[a._v("姓名")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.recAccName,expression:"recAccName"}],attrs:{placeholder:"请输入转账人姓名",type:"text",value:""},domProps:{value:a.recAccName},on:{input:function(t){t.target.composing||(a.recAccName=t.target.value)}}})]),a._v(" "),s("li",[s("span",[a._v("FinE卡号")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.toCardNo,expression:"toCardNo"}],attrs:{placeholder:"请输入FinE卡号",type:"tel",maxlength:"16",value:""},domProps:{value:a.toCardNo},on:{input:function(t){t.target.composing||(a.toCardNo=t.target.value)}}})]),a._v(" "),s("li",[s("span",[a._v("卡号币种")]),a._v(" "),s("span",{staticClass:"right-graytxt"},[a._v(a._s(a._f("currencyType")(a.cardInfo.cardApplyInfo&&a.cardInfo.cardApplyInfo.currency)))])])]),a._v(" "),s("div",{staticClass:"recharge-money"},[s("p",{staticClass:"recharge-tit"},[a._v("充值金额")]),a._v(" "),s("div",{staticClass:"recharge-number"},[s("span",[a._v("¥")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.amount,expression:"amount"}],attrs:{onkeyup:"this.value=this.value.replace(/[^0-9.]/g,'')",placeholder:"请输入您要转入的金额",type:"text",value:""},domProps:{value:a.amount},on:{input:function(t){t.target.composing||(a.amount=t.target.value)}}})])]),a._v(" "),s("p",{staticClass:"common-txt"},[a._v("转出")]),a._v(" "),s("ul",{staticClass:"info-list"},[s("li",[s("span",[a._v("FinE卡号")]),a._v(" "),s("span",{staticClass:"right-graytxt"},[a._v(a._s(a.cardInfo.cardApplyInfo&&a.cardInfo.cardApplyInfo.cardNo))])]),a._v(" "),s("li",[s("span",[a._v("卡号币种")]),a._v(" "),s("span",{staticClass:"right-graytxt"},[a._v(a._s(a._f("currencyType")(a.cardInfo.cardApplyInfo&&a.cardInfo.cardApplyInfo.currency)))])]),a._v(" "),s("li",[s("span",[a._v("可转出金额")]),a._v(" "),s("span",{staticClass:"right-orangetxt"},[a._v(a._s(a._f("moneyUnit")(a.cardInfo.globalInfo&&a.cardInfo.globalInfo.balance))),s("sub",[a._v(a._s(a.cardInfo.cardApplyInfo&&a.cardInfo.cardApplyInfo.currency))])])]),a._v(" "),s("li",[s("emInput",{attrs:{className:"input-left",star:!0,placeholder:"请输入您的FinE卡支付密码"},on:{input:a.getInputPass}})],1)]),a._v(" "),s("p",{staticClass:"fund-tips"},[a._v("提示：仅支持同币种FinE卡之间转账")]),a._v(" "),s("a",{staticClass:"fine-btn singe-finebtn btning",attrs:{href:"javascript:;"},on:{click:a.transferSubmit}},[a._v("转账")]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.maskShow,expression:"maskShow"}],staticClass:"mask"}),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.maskShow,expression:"maskShow"}],staticClass:"popBox"},[s("p",{staticClass:"pop-title"},[a._v(a._s(a.isback?"转账成功":"转账失败"))]),a._v(" "),s("div",{staticClass:"pop-content"},[s("p",{staticClass:"pop-express"},[a._v(a._s(a.errorMsg))])]),a._v(" "),s("a",{staticClass:"pop-btn",class:{disabled:a.submitFlag},attrs:{href:"javascript:;"},on:{click:a.closePop}},[a._v("好的，我知道了")])])])},staticRenderFns:[]},d=s("C7Lr")(l,p,!1,null,null,null);t.default=d.exports}});