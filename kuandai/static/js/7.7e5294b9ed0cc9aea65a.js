webpackJsonp([7],{qzG6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),s=a.n(n),i=a("exGp"),r=a.n(i),o=a("iF09"),c=a("gyMJ"),l=null,u={name:"loginbox",data:function(){return{phone:"",code:"",phoneFlag:!1,codeFlag:!1,sendFlag:!1,time:60,submitFlag:!1}},watch:{phone:function(e){this.verifyPhone(e,"",0)?this.phoneFlag=!0:this.phoneFlag=!1},code:function(e){this.isEmpty(e,"",!1)&&this.verifyLength(e,"",6,!1)?this.codeFlag=!0:this.codeFlag=!1}},methods:{getCode:function(){var e=this;return r()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.verifyPhone(e.phone)||e.sendFlag){t.next=7;break}return e.sendFlag=!0,t.next=5,Object(c.d)({mobile:e.phone});case 5:201!=(a=t.sent).status&&200!=a.status||!a.data?(Toast(a.data.message),e.sendFlag=!1,e.time=60,clearInterval(l)):(Toast(a.data.message),l=setInterval(function(){--this.time,0==this.time&&(this.sendFlag=!1,this.time=60,clearInterval(l))}.bind(e),1e3));case 7:t.next=15;break;case 9:t.prev=9,t.t0=t.catch(0),Toast("接口异常，稍后再试"),e.sendFlag=!1,e.time=60,clearInterval(l);case 15:case"end":return t.stop()}},t,e,[[0,9]])}))()},submit:function(){var e=this;return r()(s.a.mark(function t(){var a,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.verifyPhone(e.phone)||!e.verifyLength(e.code,"验证码长度为6位")){t.next=22;break}return t.prev=1,e.submitFlag=!0,t.next=5,Object(c.g)({phone:e.phone,verification_code:e.code});case 5:if(201!=(a=t.sent).status&&200!=a.status||!a.data){t.next=13;break}e.submitFlag=!1,n=a.data.meta&&a.data.meta.token_type+" "+a.data.meta.access_token||"",Object(o.c)(n),e.$router.replace({path:"Pack"}),t.next=16;break;case 13:return e.submitFlag=!1,Toast(a.data.message),t.abrupt("return");case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),e.submitFlag=!1,Toast("接口异常，稍后再试");case 22:case"end":return t.stop()}},t,e,[[1,18]])}))()}},created:function(){},mounted:function(){}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-box"},[e._m(0),e._v(" "),a("section",[a("div",{staticClass:"section-box"},[a("span",[e._v("+86")]),e._v(" "),a("div",{staticClass:"right-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{placeholder:"请输入有效的手机号",type:"tel",value:""},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"section-box"},[a("span",[e._v("验证码")]),e._v(" "),a("div",{staticClass:"right-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{placeholder:"请输入6位数验证码",maxlength:"6",type:"tel",value:""},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),a("a",{staticClass:"get-code",class:{active:e.phoneFlag&&!e.sendFlag},attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.getCode(t)}}},[e._v(e._s(e.sendFlag?e.time+"s":"获取验证码"))])])]),e._v(" "),a("p",{staticClass:"error-tips hide"},[e._v("验证码错误，请重新输入")]),e._v(" "),a("a",{staticClass:"btn active",attrs:{href:"javascript:;"},on:{click:e.submit}},[e._v("登录/注册")])]),e._v(" "),a("footer",[e._v("注册登录即代表我已阅读并同意《用户使用协议》")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h4",[this._v("登录/注册")]),this._v(" "),t("p",[this._v("为了您的账号安全，请使用手机号登录")])])}]},d=a("VU/8")(u,v,!1,null,null,null);t.default=d.exports}});