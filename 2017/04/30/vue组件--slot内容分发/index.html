<!DOCTYPE html><html><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Vue组件--slot内容分发 | zuobaiquan</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="①概述：简单来说，假如父组件需要在子组件内放一些DOM，那么这些DOM是显示、不显示、在哪个地方显示、如何显示，就是slot分发负责的活。"><meta property="og:type" content="article"><meta property="og:title" content="Vue组件--slot内容分发"><meta property="og:url" content="https://zuobaiquan.github.io/2017/04/30/vue组件--slot内容分发/index.html"><meta property="og:site_name" content="zuobaiquan"><meta property="og:description" content="①概述：简单来说，假如父组件需要在子组件内放一些DOM，那么这些DOM是显示、不显示、在哪个地方显示、如何显示，就是slot分发负责的活。"><meta property="og:image" content="http://op5v2z251.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20170430202314.png"><meta property="og:image" content="http://op5v2z251.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20170430202324.png"><meta property="og:image" content="http://op5v2z251.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20170430202334.png"><meta property="og:image" content="http://op5v2z251.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20170430205958.png"><meta property="og:updated_time" content="2017-04-30T13:20:52.418Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Vue组件--slot内容分发"><meta name="twitter:description" content="①概述：简单来说，假如父组件需要在子组件内放一些DOM，那么这些DOM是显示、不显示、在哪个地方显示、如何显示，就是slot分发负责的活。"><meta name="twitter:image" content="http://op5v2z251.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20170430202314.png"><link rel="alternative" href="/atom.xml" title="zuobaiquan" type="application/atom+xml"><link rel="stylesheet" href="/css/style.css"><!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]--></head></html><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><nav id="upper-nav" class="inner"><a id="main-nav-toggle" class="nav-icon"></a><div class="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a><a id="nav-github" class="nav-icon" href="https://github.com/zuobaiquan"></a></div></nav><div id="header-title"><h1 id="blog-title-wrap"><a href="/" id="blog-title">热爱前端喜欢分享的程序猿</a></h1></div><div id="contenedor"><ul class="cube"><li class="cara">前端</li><li class="cara">框架</li><li class="cara">JS</li><li class="cara">HTML5</li><li class="cara">CSS</li><li class="cara">心得</li></ul></div><nav id="main-nav"><a class="main-nav-link" href="/">首页</a> <a class="main-nav-link" href="/archives">归档</a> <a class="main-nav-link" href="/about">关于</a> <a class="main-nav-link" href="/resume">简历</a> <a class="main-nav-link" href="https://zuobaiquan.github.io/tags/英语学习">英语学习</a> <a class="main-nav-link" href="http://weibo.com/zuobaiquan" target="_blank">微博</a> <a class="main-nav-link" href="https://www.zhihu.com/people/zuobaiquan" target="_blank">知乎</a> <a class="main-nav-link" href="https://github.com/zuobaiquan?tab=repositories" target="_blank">Github</a></nav></div></header><div class="outer"><section id="main"><article id="post-vue组件--slot内容分发" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><h3 href="/2017/04/30/vue组件--slot内容分发/" class="article-date"><time datetime="2017-04-30T13:11:49.000Z" itemprop="datePublished">2017-04-30</time></h3></div><div class="article-inner"><div class="curve-down"><div class="fill-content"><header class="article-header"><h1 class="article-title" itemprop="name">Vue组件--slot内容分发</h1></header><div class="article-entry" itemprop="articleBody"><h3 id="①概述："><a href="#①概述：" class="headerlink" title="①概述："></a><strong>①概述：</strong></h3><p>简单来说，假如父组件需要在子组件内放一些DOM，那么这些DOM是显示、不显示、在哪个地方显示、如何显示，就是slot分发负责的活。<a id="more"></a></p><h3 id="②默认情况下"><a href="#②默认情况下" class="headerlink" title="②默认情况下"></a><strong>②默认情况下</strong></h3><p>父组件在子组件内套的内容，是不显示的。</p><p>例如代码：</p><pre><code class="html">&lt;div id=&quot;box&quot;&gt;
    &lt;aaa&gt;
        &lt;span&gt;text是否显示&lt;/span&gt;
    &lt;/aaa&gt;
    &lt;template id=&quot;tpl&quot;&gt;
        &lt;p&gt;我是标签&lt;/p&gt;
    &lt;/template&gt;
&lt;/div&gt;
&lt;script&gt;
    var vm = new Vue({
        el: &#39;#box&#39;,
        components: {
            &quot;aaa&quot;: {
                template: &quot;#tpl&quot;
            }
        }
    });
&lt;/script&gt;
</code></pre><p><img src="http://op5v2z251.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20170430202314.png" alt=""></p><p>显示内容是一个 p 标签 的内容，不包含span标签里面的内容；</p><h3 id="③单个slot"><a href="#③单个slot" class="headerlink" title="③单个slot"></a><strong>③单个slot</strong></h3><p>简单来说，只使用这个标签的话，可以将父组件放在子组件的内容，放到想让他显示的地方。</p><pre><code class="html">&lt;div id=&quot;box&quot;&gt;
    &lt;aaa&gt;

    &lt;/aaa&gt;
    &lt;template id=&quot;tpl&quot;&gt;
        &lt;p&gt;我是标签&lt;/p&gt;
        &lt;slot&gt;&lt;/slot&gt;
    &lt;/template&gt;
&lt;/div&gt;
&lt;script&gt;
    var vm = new Vue({
        el: &#39;#box&#39;,
        components: {
            &quot;aaa&quot;: {
                template: &quot;#tpl&quot;
            }
        }
    });
&lt;/script&gt;
</code></pre><p><img src="http://op5v2z251.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20170430202324.png" alt=""></p><p>这样写的话，结果是：</p><pre><code class="html">&lt;p&gt;我是标签&lt;/p&gt;
&lt;span&gt;text是否显示&lt;/span&gt;
</code></pre><p>即父组件放在子组件里的内容，插到了子组件的</p><pre><code>&lt;slot&gt;&lt;/slot&gt;
</code></pre><p>位置；注意，即使有多个标签，会一起被插入，相当于用父组件放在子组件里的标签，替换了 slot 这个标签。</p><h3 id="④具名slot"><a href="#④具名slot" class="headerlink" title="④具名slot"></a><strong>④具名slot</strong></h3><p>将放在子组件里的不同html标签放在不同的位置</p><p>父组件在要分发的标签里添加 slot=”name名” 属性</p><p>子组件在对应分发的位置的slot标签里，添加name=”name名” 属性，</p><p>然后就会将对应的标签放在对应的位置了。</p><pre><code class="html">&lt;div id=&quot;box&quot;&gt;
    &lt;aaa&gt;
        &lt;span slot=&quot;second&quot;&gt;56789&lt;/span&gt;
        &lt;span slot=&quot;first&quot;&gt;12345&lt;/span&gt;
    &lt;/aaa&gt;
    &lt;template id=&quot;tpl&quot;&gt;
        &lt;p&gt;我是标签&lt;/p&gt;
        &lt;slot name=&#39;first&#39;&gt;&lt;/slot&gt;
        &lt;slot name=&#39;second&#39;&gt;&lt;/slot&gt;
        &lt;!--显示次序看模板--&gt;
    &lt;/template&gt;
&lt;/div&gt;
&lt;script&gt;
    var vm = new Vue({
        el: &#39;#box&#39;,
        components: {
            &quot;aaa&quot;: {
                template: &quot;#tpl&quot;
            }
        }
    });
&lt;/script&gt;
</code></pre><p><img src="http://op5v2z251.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20170430202334.png" alt=""></p><pre><code class="html">&lt;p&gt;我是标签&lt;/p&gt;
&lt;slot name=&#39;first&#39;&gt;12345&lt;/slot&gt;
&lt;slot name=&#39;second&#39;&gt;56789&lt;/slot&gt;
</code></pre><h3 id="⑤分发内容的作用域："><a href="#⑤分发内容的作用域：" class="headerlink" title="⑤分发内容的作用域："></a><strong>⑤分发内容的作用域：</strong></h3><p>被分发的内容的作用域，根据其所在模板决定，例如，以上标签，其在父组件的模板中（虽然其被子组件的children标签所包括，但由于他不在子组件的template属性中，因此不属于子组件），则受父组件所控制。</p><p>示例代码：</p><pre><code class="html">&lt;div id=&quot;box&quot;&gt;
    &lt;aaa&gt;
        &lt;span slot=&quot;second&quot;&gt;56789&lt;/span&gt;
        &lt;span slot=&quot;first&quot; @click=&quot;tobeknow&quot;&gt;12345&lt;/span&gt;
    &lt;/aaa&gt;
    &lt;template id=&quot;tpl&quot;&gt;
        &lt;p&gt;我是标签&lt;/p&gt;
        &lt;slot name=&#39;first&#39;&gt;&lt;/slot&gt;
        &lt;slot name=&#39;second&#39;&gt;&lt;/slot&gt;
        &lt;!--显示次序看模板--&gt;
    &lt;/template&gt;
&lt;/div&gt;
&lt;script&gt;
    var vm = new Vue({
        el: &#39;#box&#39;,
        methods: {
            tobeknow: function () {
                alert(111111);
            }
        },
        components: {
            &quot;aaa&quot;: {
                template: &quot;#tpl&quot;
            }
        }
    });
&lt;/script&gt;
</code></pre><p>当点击文字12345的区域时（而不是按钮全部），会触发父组件的tobeknow方法。但是点击其他区域时则没有影响。</p><p>官方教程是这么说的：</p><blockquote><p>父组件模板的内容在父组件作用域内编译；子组件模板的内容在子组件作用域内编译</p></blockquote><h3 id="⑥当没有分发内容时的提示："><a href="#⑥当没有分发内容时的提示：" class="headerlink" title="⑥当没有分发内容时的提示："></a><strong>⑥当没有分发内容时的提示：</strong></h3><p>假如父组件没有在子组件中放置有标签，或者是父组件在子组件中放置标签，但有slot属性，而子组件中没有该slot属性的标签。那么，子组件的slot标签，将不会起到任何作用。除非，该slot标签内有内容，那么在无分发内容的时候，会显示该slot标签内的内容。</p><p>如示例代码：</p><pre><code class="html">&lt;div id=&quot;box&quot;&gt;
    &lt;aaa&gt;
        &lt;span slot=&quot;first&quot;&gt;【12345】&lt;/span&gt;
    &lt;/aaa&gt;
    &lt;template id=&quot;tpl&quot;&gt;
        &lt;div&gt;
            &lt;slot name=&#39;first&#39;&gt;&lt;/slot&gt;
            &lt;p&gt;我是标签1&lt;/p&gt;
            &lt;slot name=&#39;second&#39;&gt;&lt;/slot&gt;
            &lt;p&gt;我是标签2&lt;/p&gt;
        &lt;/div&gt;
    &lt;/template&gt;
&lt;/div&gt;
&lt;script&gt;
    var vm = new Vue({
        el: &#39;#box&#39;,
        components: {
            &quot;aaa&quot;: {
                template: &quot;#tpl&quot;
            }
        }
    });
&lt;/script&gt;
</code></pre><p><img src="http://op5v2z251.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20170430205958.png" alt=""></p><p>说明：</p><p>【1】name=’first’的slot标签被父组件对应的标签所替换（slot标签内部的内容被舍弃）；</p><p>【2】name=’last’的slot标签，因为没有对应的内容，则显示该slot标签内部的内容。</p><h3 id="⑦假如想控制子组件根标签的属性"><a href="#⑦假如想控制子组件根标签的属性" class="headerlink" title="⑦假如想控制子组件根标签的属性"></a><strong>⑦假如想控制子组件根标签的属性</strong></h3><p>【1】首先，由于模板标签是属于父组件的，因此，将子组件的指令绑定在模板标签里，是不可以的（因为他归属于父组件）；</p><p>【2】假如需要通过父组件控制子组件是否显示（例如v-if或者v-show），那么这个指令显然是属于父组件的（例如放在父组件的data下面）。可以将标签写在子组件的模板上。</p><p>如代码：</p><pre><code class="html">&lt;div id=&quot;box&quot;&gt;
    &lt;button @click=&quot;abc=!abc&quot;&gt;点击让子组件显示&lt;/button&gt;
    &lt;aaa v-if=&quot;abc&quot;&gt;
    &lt;/aaa&gt;
&lt;/div&gt;
&lt;script&gt;
    var vm = new Vue({
        el: &#39;#box&#39;,
        data: {
            &#39;abc&#39;: false
        },
        components: {
            &quot;aaa&quot;: {
                template: &quot;&lt;div&gt;这里是子组件&lt;/div&gt;&quot;
            }
        },
    });
&lt;/script&gt;
</code></pre><p>说明：通过父组件（点击按钮，切换v-if指令的值）控制子组件是否显示。</p><p>【3】假如需要通过子组件，控制子组件是否显示（比如让他隐藏），那么这个指令显然是属于子组件的（会将值放在子组件的data属性下），那么就不能像上面这么写，而是必须放置在子组件的根标签中。</p><pre><code class="html">&lt;div id=&quot;box&quot;&gt;
    &lt;button @click=&quot;toshow&quot;&gt;点击让子组件显示&lt;/button&gt;
    &lt;aaa&gt;
        &lt;span slot=&quot;first&quot;&gt;【12345】&lt;/span&gt;
        &lt;!--上面这行不会显示--&gt;
    &lt;/aaa&gt;
&lt;/div&gt;
&lt;script&gt;
    var vm = new Vue({
        el: &#39;#box&#39;,
        methods: {
            toshow: function () {
                this.$children[0].tohidden = true;
            }
        },
        components: {
            &#39;aaa&#39;:{
                template: &quot;&lt;div v-if=&#39;tohidden&#39; @click=&#39;tohide&#39;&gt;这里是子组件&lt;/div&gt;&quot;,
                data: function () {
                    return {
                        tohidden: true
                    }
                },
                methods: {
                    tohide: function () {
                        this.tohidden = !this.tohidden;
                    }
                }
            }
        },
    });
&lt;/script&gt;
</code></pre><p>说明：</p><p>点击子组件会让子组件消失；</p><p>点击父组件的按钮，通过更改子组件的tohidden属性，让子组件重新显示。</p><p>子组件的指令绑定在子组件的模板之中（如此才能调用）；</p><p>参考文章：</p><p><a href="http://blog.csdn.net/sinat_17775997/article/details/52484072" target="_blank" rel="external">http://blog.csdn.net/sinat_17775997/article/details/52484072</a></p><p><a href="https://github.com/zuobaiquan/Vue/blob/master/04vue%E7%BB%84%E4%BB%B6/vue%E7%BB%84%E4%BB%B6slot.html" target="_blank" rel="external">https://github.com/zuobaiquan/Vue/blob/master/04vue%E7%BB%84%E4%BB%B6/vue%E7%BB%84%E4%BB%B6slot.html</a></p><p><a href="https://github.com/zuobaiquan/Vue/blob/master/04vue%E7%BB%84%E4%BB%B6/vue%E7%BB%84%E4%BB%B6%E5%A4%9A%E4%B8%AAslot.html" target="_blank" rel="external">https://github.com/zuobaiquan/Vue/blob/master/04vue%E7%BB%84%E4%BB%B6/vue%E7%BB%84%E4%BB%B6%E5%A4%9A%E4%B8%AAslot.html</a></p></div><footer class="article-footer"><div class="article-footer-content"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/">Vue</a></li></ul><a data-url="https://zuobaiquan.github.io/2017/04/30/vue组件--slot内容分发/" data-id="cj24s0cha001cg8n3xna6swre" class="article-share-link">分享到</a></div></footer></div></div></div><nav id="article-nav"><a href="/2017/04/29/vue中的计算属性与$watch/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">上一篇</strong><div class="article-nav-title">Vue中的计算属性与$watch</div></a></nav></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">近期文章</h3><div class="widget"><ul><li><a href="/2017/04/30/vue组件--slot内容分发/">Vue组件--slot内容分发</a></li><li><a href="/2017/04/29/vue中的计算属性与$watch/">Vue中的计算属性与$watch</a></li><li><a href="/2017/03/21/JS排序总结/">JS排序总结</a></li><li><a href="/2016/09/21/如何在代码中减少if else语句的使用/">如何在代码中减少if else语句的使用</a></li><li><a href="/2016/08/11/CSS实现背景透明，文字不透明(兼容所有浏览器)/">CSS实现背景透明，文字不透明(兼容所有浏览器)</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">标签</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/英语学习/">英语学习</a><span class="tag-list-count">16</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">友情链接</h3><div class="widget"><ul><li><a href="http://www.zhangxinxu.com/" target="_blank">张鑫旭</a></li><li><a href="http://zhangwenli.com/" target="_blank">张雯丽</a></li><li><a href="http://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000" target="_blank">廖雪峰</a></li><li><a href="http://www.ruanyifeng.com/blog/archives.html" target="_blank">阮一峰</a></li></ul></div></div></aside></div><footer id="footer" style="padding:20px 0 0"><div class="outer" style="height:50px;overflow:hidden"><div id="footer-info" class="inner">&copy; 2017 zuobaiquan<br><a style="color:#888" href="https://zuobaiquan.github.io/" target="_blank">欢迎访问我的博客哦</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">首页</a> <a href="/archives" class="mobile-nav-link">归档</a> <a href="/about" class="mobile-nav-link">关于</a> <a href="/resume" class="mobile-nav-link">简历</a></nav><div id="totop"><a title="返回顶部"></a></div><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/lrsjng.jquery-qrcode/0.12.0/jquery.qrcode.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/script.js"></script></div></body>