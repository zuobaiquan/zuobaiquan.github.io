{"version":3,"sources":["webpack:///src/view/carSpace.vue","webpack:///./src/view/carSpace.vue?e441","webpack:///./src/view/carSpace.vue"],"names":["carSpace","name","data","workspaceList","showMask","workName","editItem","editFlag","methods","getWorkshopList","that","$ajax","method","url","api","then","response","content","catch","error","console","log","deleteWorkshop","id","this","code","editWorkshop","item","hideWorkshop","showAdd","confirmEdit","map","index","status","alert","mounted","_self","window","created","view_carSpace","render","_vm","_h","$createElement","_c","staticClass","_l","_v","_s","on","click","$event","_e","directives","rawName","value","expression","attrs","placeholder","type","domProps","input","target","composing","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/3.23de32740f207671d59f.js","sourcesContent":["<template>\r\n  <div class=\"car-space\">\r\n    <ul class=\"space-list\">\r\n      <li v-for=\"(item,index) in workspaceList\">\r\n        <span class=\"name\">{{item.name}}</span>\r\n        <div class=\"operator\">\r\n          <span class=\"del\" @click=\"deleteWorkshop(item.id)\"></span>\r\n          <span class=\"edit\" @click=\"editWorkshop(item)\"></span>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"mask\" v-if=\"showMask\"></div>\r\n    <div class=\"mask-box\" v-if=\"showMask\">\r\n      <p class=\"mask-tit\">{{editFlag==1?'修改车间名称':'添加车间名称'}}</p>\r\n      <div class=\"mask-inputbox\">\r\n        <input class=\"mask-input\" v-model=\"workName\" placeholder=\"请输入车间名称\" type=\"text\" name=\"\" value=\"\">\r\n      </div>\r\n      <ul class=\"bottombtn-list\">\r\n        <li @click=\"hideWorkshop()\">取消</li>\r\n        <li @click=\"confirmEdit()\">确认</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'carSpace',\r\n  data () {\r\n    return {\r\n      workspaceList:[],\r\n      showMask:false,\r\n      workName:'',\r\n      editItem:{},\r\n      editFlag:-1\r\n    }\r\n  },\r\n  methods:{\r\n    getWorkshopList(that){\r\n      that.$ajax({\r\n        method: 'GET',\r\n        url:`${that.api}/api/workshop?page=0&size=100&isDelete=0&sort=createTime,desc`\r\n       }).then(function (response) {\r\n         that.workspaceList=response.data.data.content\r\n       }).catch(function (error) {\r\n          console.log(error);\r\n       });\r\n    },\r\n    deleteWorkshop(id){\r\n      var that=this;\r\n      that.$ajax({\r\n        method: 'delete',\r\n        url:`${that.api}/api/workshop/${id}`\r\n       }).then(function (response) {\r\n         if(response.data.code==0){\r\n           that.getWorkshopList(that)\r\n         }\r\n         console.log(response);\r\n       }).catch(function (error) {\r\n          console.log(error);\r\n       });\r\n    },\r\n    editWorkshop(item){\r\n      this.editFlag=1\r\n      this.showMask=true\r\n      this.editItem=item\r\n      this.workName=item.name\r\n    },\r\n    hideWorkshop(){\r\n      this.showMask=false\r\n    },\r\n    showAdd(){\r\n      this.editFlag=-1\r\n      this.showMask=true\r\n      this.workName=''\r\n    },\r\n    confirmEdit(){\r\n      var that=this;\r\n      if(that.workName==''){\r\n        alert(\"车间名称不为空\")\r\n        return ;\r\n      }else{\r\n        if(this.editFlag==1){\r\n          that.workspaceList.map((item,index)=>{\r\n            if(item.id==that.editItem.id){\r\n              item.name=that.workName\r\n            }\r\n          })\r\n          that.$ajax({\r\n            method: 'PUT',\r\n            url:`${that.api}/api/workshop/all`,\r\n            data:that.workspaceList,\r\n           }).then(function (response) {\r\n             that.workName=''\r\n             that.showMask=false\r\n             console.log(response.data.data);\r\n             //window.webkit.messageHandlers.submitClick.postMessage(JSON.stringify(response.data.data))\r\n           }).catch(function (error) {\r\n              console.log(error);\r\n           });\r\n        }\r\n        if(this.editFlag==-1){\r\n          that.$ajax({\r\n            method: 'post',\r\n            url:`${that.api}/api/workshop`,\r\n            data:{\r\n              'status':0,\r\n              'name':that.workName\r\n            },\r\n           }).then(function (response) {\r\n             that.workName=''\r\n             that.showMask=false\r\n             that.getWorkshopList(that)\r\n             //window.webkit.messageHandlers.submitClick.postMessage(JSON.stringify(response.data.data))\r\n           }).catch(function (error) {\r\n              console.log(error);\r\n           });\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted: function () {\r\n    var _self=this\r\n    //此方法绑定到window下面，提供给外部调用\r\n    window['showAdd'] = function(){\r\n      _self.showAdd()\r\n    }\r\n  },\r\n  created(){\r\n    this.getWorkshopList(this)\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/carSpace.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"car-space\"},[_c('ul',{staticClass:\"space-list\"},_vm._l((_vm.workspaceList),function(item,index){return _c('li',[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"operator\"},[_c('span',{staticClass:\"del\",on:{\"click\":function($event){_vm.deleteWorkshop(item.id)}}}),_vm._v(\" \"),_c('span',{staticClass:\"edit\",on:{\"click\":function($event){_vm.editWorkshop(item)}}})])])})),_vm._v(\" \"),(_vm.showMask)?_c('div',{staticClass:\"mask\"}):_vm._e(),_vm._v(\" \"),(_vm.showMask)?_c('div',{staticClass:\"mask-box\"},[_c('p',{staticClass:\"mask-tit\"},[_vm._v(_vm._s(_vm.editFlag==1?'修改车间名称':'添加车间名称'))]),_vm._v(\" \"),_c('div',{staticClass:\"mask-inputbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.workName),expression:\"workName\"}],staticClass:\"mask-input\",attrs:{\"placeholder\":\"请输入车间名称\",\"type\":\"text\",\"name\":\"\",\"value\":\"\"},domProps:{\"value\":(_vm.workName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.workName=$event.target.value}}})]),_vm._v(\" \"),_c('ul',{staticClass:\"bottombtn-list\"},[_c('li',{on:{\"click\":function($event){_vm.hideWorkshop()}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){_vm.confirmEdit()}}},[_vm._v(\"确认\")])])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-7d4d08b6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/view/carSpace.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./carSpace.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./carSpace.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d4d08b6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./carSpace.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/carSpace.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}