webpackJsonp([1],{E2dV:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};n.d(a,"parseTime",function(){return g}),n.d(a,"formatTime",function(){return f});var s=n("ZLEe"),i=n.n(s),r=n("MVMM"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var c=n("vSla")({name:"App"},o,!1,function(t){n("E2dV")},null,null).exports,l=n("zO6J"),u={name:"taskItem",data:function(){return{}},props:{list:{type:Array}},methods:{nameFormate:function(t){return t.length>=2?t.substr(-2,1)+t.substr(-1,1):t}},created:function(){}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-container"},t._l(t.list,function(e,a){return n("div",{staticClass:"task-item"},[n("span",{staticClass:"name"},[t._v(t._s(t.nameFormate(e.name)))]),t._v(" "),n("div",{staticClass:"item-content"},[n("div",{staticClass:"item-top"},[n("span",[t._v(t._s(t.nameFormate(e.name))),n("span",{staticClass:"item-work"},[t._v(t._s(e.action))])]),t._v(" "),n("span",[t._v(t._s(t._f("parseTime")(e.createTime,"{y}.{m}.{d} {h}:{i}")))])]),t._v(" "),n("div",{staticClass:"work-dec"},[t._v(t._s(e.taskTitle))]),t._v(" "),e.cancelReason?n("div",{staticClass:"cancel-reason"},[t._v(t._s(e.cancelReason))]):t._e()])])}))},staticRenderFns:[]},p={name:"taskList",data:function(){return{page:0,size:10,recordList:[],isLoading:!0,isOver:!1}},components:{taskItem:n("vSla")(u,d,!1,null,null,null).exports},methods:{getTasklist:function(t,e){t.$ajax({method:"GET",url:t.api+"/api/record?page="+e+"&size="+t.size+"&sort=desc"}).then(function(e){e.data.content.length<t.size&&(t.isOver=!0,t.isLoading=!1),t.recordList=t.recordList.concat(e.data.content),console.log(t.recordList)}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;window.onscroll=function(){if(window.screen.height+(document.body.scrollTop||document.documentElement.scrollTop)>=(document.body.scrollHeight||document.documentElement.scrollHeight)){if(t.isOver)return;t.page++,t.getTasklist(t,t.page)}}},created:function(){this.getTasklist(this,this.page)}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-list"},[n("taskItem",{attrs:{list:t.recordList}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading-wrap"},[n("i"),t._v(" "),n("span",[t._v("加载中...")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOver,expression:"isOver"}],staticClass:"loaded"},[t._v("没有更多数据")])],1)},staticRenderFns:[]},v=n("vSla")(p,m,!1,null,null,null).exports;r.a.use(l.a);var h=new l.a({routes:[{path:"/record",name:"taskList",component:v},{path:"/",name:"taskList",component:v}]});function g(t,e){if(t=t.replace(/-/g,"/"),0===arguments.length)return null;10===(t+"").length&&(t=1e3*+t);var n=e||"{y}-{m}-{d} {h}:{i}:{s}",a=new Date(t),s={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()};return n.replace(/{(y|m|d|h|i|s|a)+}/g,function(t,e){var n=s[e];return"a"===e?["一","二","三","四","五","六","日"][n-1]:(t.length>0&&n<10&&(n="0"+n),n||0)})}function f(t,e){t=1e3*+t;var n=new Date(t),a=(Date.now()-n)/1e3;return a<30?"刚刚":a<3600?Math.ceil(a/60)+"分钟前":a<86400?Math.ceil(a/3600)+"小时前":a<172800?"1天前":e?g(t,e):n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}var _=n("aozt"),w=n.n(_);r.a.config.productionTip=!1,i()(a).forEach(function(t){r.a.filter(t,a[t])}),r.a.prototype.$ajax=w.a,r.a.prototype.api="http://120.24.183.106:9089",new r.a({el:"#app",router:h,components:{App:c},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.523c45d88e37c137be8a.js.map